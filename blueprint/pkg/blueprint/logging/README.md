<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)


<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)


<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)


<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)


<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [Variables](<#variables>)
- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [func findFileInParentDirectory\(dir string, fileName string\) string](<#findFileInParentDirectory>)
- [func init\(\)](<#init>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)
- [type blueprintLoggerHandler](<#blueprintLoggerHandler>)
  - [func newBlueprintLoggerHandler\(out io.Writer, opts blueprintLoggerHandlerOptions\) \*blueprintLoggerHandler](<#newBlueprintLoggerHandler>)
  - [func \(h \*blueprintLoggerHandler\) Handle\(ctx context.Context, r slog.Record\) error](<#blueprintLoggerHandler.Handle>)
- [type blueprintLoggerHandlerOptions](<#blueprintLoggerHandlerOptions>)
- [type sourceFileInfo](<#sourceFileInfo>)
  - [func getSourceFileInfo\(fileName string\) \*sourceFileInfo](<#getSourceFileInfo>)
  - [func \(info \*sourceFileInfo\) String\(\) string](<#sourceFileInfo.String>)


## Variables

<a name="fileInfoCache"></a>

```go
var fileInfoCache = make(map[string]*sourceFileInfo)
```

<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="findFileInParentDirectory"></a>
## func findFileInParentDirectory

```go
func findFileInParentDirectory(dir string, fileName string) string
```

Starting from the specified subdirectory, recurses through parent directories until finding a file with the specified name. Returns the parent directory containing the file. If empty string is returned, then file is not found

<a name="init"></a>
## func init

```go
func init()
```

Initializes the logger when this package is first loaded. This function is guaranteed to be invoked only once so the logger will be initialized only once.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



<a name="blueprintLoggerHandler"></a>
## type blueprintLoggerHandler

Implementation of Blueprint's custom Handler of slog.Logger

```go
type blueprintLoggerHandler struct {
    slog.Handler
    l       *log.Logger
    enabled bool
}
```

<a name="loggerhandler"></a>

```go
var loggerhandler *blueprintLoggerHandler
```

<a name="newBlueprintLoggerHandler"></a>
### func newBlueprintLoggerHandler

```go
func newBlueprintLoggerHandler(out io.Writer, opts blueprintLoggerHandlerOptions) *blueprintLoggerHandler
```



<a name="blueprintLoggerHandler.Handle"></a>
### func \(\*blueprintLoggerHandler\) Handle

```go
func (h *blueprintLoggerHandler) Handle(ctx context.Context, r slog.Record) error
```

Implementation of a slog logger

<a name="blueprintLoggerHandlerOptions"></a>
## type blueprintLoggerHandlerOptions



```go
type blueprintLoggerHandlerOptions struct {
    SlogOpts slog.HandlerOptions
}
```

<a name="sourceFileInfo"></a>
## type sourceFileInfo



```go
type sourceFileInfo struct {
    Filename          string // Local filename
    Module            string // Fully qualified module name
    ModulePath        string // path to module on disk
    ModuleFilename    string // Filename within module
    WorkspaceFilename string // Filename within workspace, if the module is in a workspace; otherwise ModuleFilename
}
```

<a name="getSourceFileInfo"></a>
### func getSourceFileInfo

```go
func getSourceFileInfo(fileName string) *sourceFileInfo
```



<a name="sourceFileInfo.String"></a>
### func \(\*sourceFileInfo\) String

```go
func (info *sourceFileInfo) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# logging

```go
import "gitlab.mpi-sws.org/cld/blueprint/blueprint/pkg/blueprint/logging"
```

Package logging implements a custom slog logger for Blueprint.

The custom logger adds additional callsite information to logging statements, to provide more information during the compilation process about which plugins are producing logs or errors, and to tie that information back to the corresponding wiring line.

## Index

- [func DisableCompilerLogging\(\)](<#DisableCompilerLogging>)
- [func EnableCompilerLogging\(\)](<#EnableCompilerLogging>)
- [type Callsite](<#Callsite>)
  - [func \(cs Callsite\) String\(\) string](<#Callsite.String>)
- [type Callstack](<#Callstack>)
  - [func GetCallstack\(\) \*Callstack](<#GetCallstack>)
  - [func \(stack \*Callstack\) String\(\) string](<#Callstack.String>)


<a name="DisableCompilerLogging"></a>
## func DisableCompilerLogging

```go
func DisableCompilerLogging()
```

Disables logging by the compiler; useful when running tests to suppress verbose output.

<a name="EnableCompilerLogging"></a>
## func EnableCompilerLogging

```go
func EnableCompilerLogging()
```

Compiler logging is enabled by default; this method is useful for tests to disable and enable logging in order to suppress output.

<a name="Callsite"></a>
## type Callsite

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callsite struct {
    Source     *sourceFileInfo
    LineNumber int
    Func       string
    FuncName   string
}
```

<a name="Callsite.String"></a>
### func \(Callsite\) String

```go
func (cs Callsite) String() string
```



<a name="Callstack"></a>
## type Callstack

Used to tie logging statements and errors back to the wiring file line that caused the error

```go
type Callstack struct {
    Stack []Callsite
}
```

<a name="GetCallstack"></a>
### func GetCallstack

```go
func GetCallstack() *Callstack
```

Gets the current callstack including file information. Blueprint's wiring spec uses this so that logging statements and error messages can be attributed back to the appropriate wiring spec line.

<a name="Callstack.String"></a>
### func \(\*Callstack\) String

```go
func (stack *Callstack) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
