<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xtrace

```go
import "github.com/blueprint-uservices/blueprint/runtime/plugins/xtrace"
```

Package xtrace provides xtrace\-based runtime components to be used by blueprint application workflows and blueprint generated code. The package provides the following runtime components: \(i\) XTracerImpl: a client\-wrapper implementation of the [XTracer](<#XTracer>) interface to a xtrace server. Used by the xtrace plugin for providing context propagation between multiple processes. \(ii\) XTraceLogger: an xtrace\-based logger implementation of the \[Logger\] interface. Once initialized, the logger sets itself as the default logger for logging across blueprint applications.

## Index

- [type XTraceLogger](<#XTraceLogger>)
  - [func NewXTraceLogger\(ctx context.Context, addr string\) \(\*XTraceLogger, error\)](<#NewXTraceLogger>)
  - [func \(l \*XTraceLogger\) Debug\(ctx context.Context, format string, args ...any\) \(context.Context, error\)](<#XTraceLogger.Debug>)
  - [func \(l \*XTraceLogger\) Error\(ctx context.Context, format string, args ...any\) \(context.Context, error\)](<#XTraceLogger.Error>)
  - [func \(l \*XTraceLogger\) Info\(ctx context.Context, format string, args ...any\) \(context.Context, error\)](<#XTraceLogger.Info>)
  - [func \(l \*XTraceLogger\) Logf\(ctx context.Context, opts backend.LogOptions, format string, args ...any\) \(context.Context, error\)](<#XTraceLogger.Logf>)
  - [func \(l \*XTraceLogger\) Warn\(ctx context.Context, format string, args ...any\) \(context.Context, error\)](<#XTraceLogger.Warn>)
- [type XTracer](<#XTracer>)
- [type XTracerImpl](<#XTracerImpl>)
  - [func NewXTracerImpl\(ctx context.Context, addr string\) \(\*XTracerImpl, error\)](<#NewXTracerImpl>)
  - [func \(xt \*XTracerImpl\) Get\(ctx context.Context\) \(tracingplane.BaggageContext, error\)](<#XTracerImpl.Get>)
  - [func \(xt \*XTracerImpl\) IsTracing\(ctx context.Context\) \(bool, error\)](<#XTracerImpl.IsTracing>)
  - [func \(xt \*XTracerImpl\) Log\(ctx context.Context, msg string\) \(context.Context, error\)](<#XTracerImpl.Log>)
  - [func \(xt \*XTracerImpl\) LogWithTags\(ctx context.Context, msg string, tags ...string\) \(context.Context, error\)](<#XTracerImpl.LogWithTags>)
  - [func \(xt \*XTracerImpl\) Merge\(ctx context.Context, other tracingplane.BaggageContext\) \(context.Context, error\)](<#XTracerImpl.Merge>)
  - [func \(xt \*XTracerImpl\) Set\(ctx context.Context, baggage tracingplane.BaggageContext\) \(context.Context, error\)](<#XTracerImpl.Set>)
  - [func \(xt \*XTracerImpl\) StartTask\(ctx context.Context, tags ...string\) \(context.Context, error\)](<#XTracerImpl.StartTask>)
  - [func \(xt \*XTracerImpl\) StopTask\(ctx context.Context\) \(context.Context, error\)](<#XTracerImpl.StopTask>)


<a name="XTraceLogger"></a>
## type [XTraceLogger](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L13-L15>)

Implementation of the \[backend.Logger\] interface Note: This logger should only be used in conjunction with the XTracerImpl tracer. Using this logger without using the XTracerImpl tracer would result in no\-op logging behavior.

```go
type XTraceLogger struct {
    backend.Logger
}
```

<a name="NewXTraceLogger"></a>
### func [NewXTraceLogger](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L32>)

```go
func NewXTraceLogger(ctx context.Context, addr string) (*XTraceLogger, error)
```

Returns a new instance of [XTracerImpl](<#XTracerImpl>) that connects to a xtrace server running at \`addr\`. REQUIRED: An xtrace server must be running at \`addr\`

<a name="XTraceLogger.Debug"></a>
### func \(\*XTraceLogger\) [Debug](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L53>)

```go
func (l *XTraceLogger) Debug(ctx context.Context, format string, args ...any) (context.Context, error)
```

Implements backend.Logger

<a name="XTraceLogger.Error"></a>
### func \(\*XTraceLogger\) [Error](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L71>)

```go
func (l *XTraceLogger) Error(ctx context.Context, format string, args ...any) (context.Context, error)
```

Implements backend.Logger

<a name="XTraceLogger.Info"></a>
### func \(\*XTraceLogger\) [Info](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L43>)

```go
func (l *XTraceLogger) Info(ctx context.Context, format string, args ...any) (context.Context, error)
```

Implements backend.Logger

<a name="XTraceLogger.Logf"></a>
### func \(\*XTraceLogger\) [Logf](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L80>)

```go
func (l *XTraceLogger) Logf(ctx context.Context, opts backend.LogOptions, format string, args ...any) (context.Context, error)
```

Implements backend.Logger

<a name="XTraceLogger.Warn"></a>
### func \(\*XTraceLogger\) [Warn](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/log.go#L62>)

```go
func (l *XTraceLogger) Warn(ctx context.Context, format string, args ...any) (context.Context, error)
```

Implements backend.Logger

<a name="XTracer"></a>
## type [XTracer](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace_iface.go#L10-L27>)

Represents the XTrace tracer interface exposed to applications and used by the xtrace plugin.

```go
type XTracer interface {
    // Creates an event in the current trace with `msg` as content.
    Log(ctx context.Context, msg string) (context.Context, error)
    // Creates an event in the current trace with `msg` as content along with `tags` as the keywords for the text.
    LogWithTags(ctx context.Context, msg string, tags ...string) (context.Context, error)
    // Starts a new trace with given `tags`
    StartTask(ctx context.Context, tags ...string) (context.Context, error)
    // Stops the current running trace.
    StopTask(ctx context.Context) (context.Context, error)
    // Merges the incoming `other` baggage into the current trace's existing baggage.
    Merge(ctx context.Context, other tracingplane.BaggageContext) (context.Context, error)
    // Sets the current trace's `baggage` to the one provided.
    Set(ctx context.Context, baggage tracingplane.BaggageContext) (context.Context, error)
    // Returns the current trace's baggage.
    Get(ctx context.Context) (tracingplane.BaggageContext, error)
    // Returns true if there is an ongoing trace.
    IsTracing(ctx context.Context) (bool, error)
}
```

<a name="XTracerImpl"></a>
## type [XTracerImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L16-L18>)

Implementation of the [XTracer](<#XTracer>) interface

```go
type XTracerImpl struct {
    XTracer
}
```

<a name="NewXTracerImpl"></a>
### func [NewXTracerImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L22>)

```go
func NewXTracerImpl(ctx context.Context, addr string) (*XTracerImpl, error)
```

Returns a new instance of [XTracerImpl](<#XTracerImpl>) that connects to a xtrace server running at \`addr\`. REQUIRED: An xtrace server must be running at \`addr\`

<a name="XTracerImpl.Get"></a>
### func \(\*XTracerImpl\) [Get](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L61>)

```go
func (xt *XTracerImpl) Get(ctx context.Context) (tracingplane.BaggageContext, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.IsTracing"></a>
### func \(\*XTracerImpl\) [IsTracing](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L66>)

```go
func (xt *XTracerImpl) IsTracing(ctx context.Context) (bool, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.Log"></a>
### func \(\*XTracerImpl\) [Log](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L31>)

```go
func (xt *XTracerImpl) Log(ctx context.Context, msg string) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.LogWithTags"></a>
### func \(\*XTracerImpl\) [LogWithTags](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L36>)

```go
func (xt *XTracerImpl) LogWithTags(ctx context.Context, msg string, tags ...string) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.Merge"></a>
### func \(\*XTracerImpl\) [Merge](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L51>)

```go
func (xt *XTracerImpl) Merge(ctx context.Context, other tracingplane.BaggageContext) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.Set"></a>
### func \(\*XTracerImpl\) [Set](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L56>)

```go
func (xt *XTracerImpl) Set(ctx context.Context, baggage tracingplane.BaggageContext) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.StartTask"></a>
### func \(\*XTracerImpl\) [StartTask](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L41>)

```go
func (xt *XTracerImpl) StartTask(ctx context.Context, tags ...string) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

<a name="XTracerImpl.StopTask"></a>
### func \(\*XTracerImpl\) [StopTask](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/xtrace/xtrace.go#L46>)

```go
func (xt *XTracerImpl) StopTask(ctx context.Context) (context.Context, error)
```

Implements the [XTracer](<#XTracer>) interface

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
