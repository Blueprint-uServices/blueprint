<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# simplenosqldb

```go
import "github.com/blueprint-uservices/blueprint/runtime/plugins/simplenosqldb"
```

Package simplenosqldb implements an in\-memory NoSQLDB that supports a subset of MongoDB's query and update API.

Only a small set of common basic filter and update operators are supported, but typically this is sufficient for most applications and enables writing service\-level unit tests.

## Index

- [func SetVerbose\(enabled bool\) bool](<#SetVerbose>)
- [type SimpleCollection](<#SimpleCollection>)
  - [func \(db \*SimpleCollection\) DeleteMany\(ctx context.Context, filter bson.D\) error](<#SimpleCollection.DeleteMany>)
  - [func \(db \*SimpleCollection\) DeleteOne\(ctx context.Context, filter bson.D\) error](<#SimpleCollection.DeleteOne>)
  - [func \(db \*SimpleCollection\) FindMany\(ctx context.Context, filter bson.D, projection ...bson.D\) \(backend.NoSQLCursor, error\)](<#SimpleCollection.FindMany>)
  - [func \(db \*SimpleCollection\) FindOne\(ctx context.Context, filter bson.D, projection ...bson.D\) \(backend.NoSQLCursor, error\)](<#SimpleCollection.FindOne>)
  - [func \(db \*SimpleCollection\) InsertMany\(ctx context.Context, documents \[\]interface\{\}\) error](<#SimpleCollection.InsertMany>)
  - [func \(db \*SimpleCollection\) InsertOne\(ctx context.Context, document interface\{\}\) error](<#SimpleCollection.InsertOne>)
  - [func \(db \*SimpleCollection\) ReplaceMany\(ctx context.Context, filter bson.D, replacements ...interface\{\}\) \(int, error\)](<#SimpleCollection.ReplaceMany>)
  - [func \(db \*SimpleCollection\) ReplaceOne\(ctx context.Context, filter bson.D, replacement interface\{\}\) \(int, error\)](<#SimpleCollection.ReplaceOne>)
  - [func \(db \*SimpleCollection\) String\(\) string](<#SimpleCollection.String>)
  - [func \(db \*SimpleCollection\) UpdateMany\(ctx context.Context, filter bson.D, update bson.D\) \(int, error\)](<#SimpleCollection.UpdateMany>)
  - [func \(db \*SimpleCollection\) UpdateOne\(ctx context.Context, filter bson.D, update bson.D\) \(int, error\)](<#SimpleCollection.UpdateOne>)
  - [func \(db \*SimpleCollection\) Upsert\(ctx context.Context, filter bson.D, document interface\{\}\) \(bool, error\)](<#SimpleCollection.Upsert>)
  - [func \(db \*SimpleCollection\) UpsertID\(ctx context.Context, id primitive.ObjectID, document interface\{\}\) \(bool, error\)](<#SimpleCollection.UpsertID>)
- [type SimpleCursor](<#SimpleCursor>)
  - [func \(c \*SimpleCursor\) All\(ctx context.Context, obj interface\{\}\) error](<#SimpleCursor.All>)
  - [func \(c \*SimpleCursor\) One\(ctx context.Context, obj interface\{\}\) \(bool, error\)](<#SimpleCursor.One>)
- [type SimpleNoSQLDB](<#SimpleNoSQLDB>)
  - [func NewSimpleNoSQLDB\(ctx context.Context\) \(\*SimpleNoSQLDB, error\)](<#NewSimpleNoSQLDB>)
  - [func \(impl \*SimpleNoSQLDB\) GetCollection\(ctx context.Context, db\_name string, collection\_name string\) \(backend.NoSQLCollection, error\)](<#SimpleNoSQLDB.GetCollection>)


<a name="SetVerbose"></a>
## func [SetVerbose](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L156>)

```go
func SetVerbose(enabled bool) bool
```

Enable or disable verbose logging; used for testing

<a name="SimpleCollection"></a>
## type [SimpleCollection](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L31-L33>)

Simple implementations of the NoSQLDB Interfaces from runtime/core/backend

```go
type SimpleCollection struct {
    // contains filtered or unexported fields
}
```

<a name="SimpleCollection.DeleteMany"></a>
### func \(\*SimpleCollection\) [DeleteMany](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L200>)

```go
func (db *SimpleCollection) DeleteMany(ctx context.Context, filter bson.D) error
```



<a name="SimpleCollection.DeleteOne"></a>
### func \(\*SimpleCollection\) [DeleteOne](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L186>)

```go
func (db *SimpleCollection) DeleteOne(ctx context.Context, filter bson.D) error
```



<a name="SimpleCollection.FindMany"></a>
### func \(\*SimpleCollection\) [FindMany](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L162>)

```go
func (db *SimpleCollection) FindMany(ctx context.Context, filter bson.D, projection ...bson.D) (backend.NoSQLCursor, error)
```



<a name="SimpleCollection.FindOne"></a>
### func \(\*SimpleCollection\) [FindOne](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L132>)

```go
func (db *SimpleCollection) FindOne(ctx context.Context, filter bson.D, projection ...bson.D) (backend.NoSQLCursor, error)
```



<a name="SimpleCollection.InsertMany"></a>
### func \(\*SimpleCollection\) [InsertMany](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L122>)

```go
func (db *SimpleCollection) InsertMany(ctx context.Context, documents []interface{}) error
```



<a name="SimpleCollection.InsertOne"></a>
### func \(\*SimpleCollection\) [InsertOne](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L98>)

```go
func (db *SimpleCollection) InsertOne(ctx context.Context, document interface{}) error
```



<a name="SimpleCollection.ReplaceMany"></a>
### func \(\*SimpleCollection\) [ReplaceMany](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L321>)

```go
func (db *SimpleCollection) ReplaceMany(ctx context.Context, filter bson.D, replacements ...interface{}) (int, error)
```



<a name="SimpleCollection.ReplaceOne"></a>
### func \(\*SimpleCollection\) [ReplaceOne](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L307>)

```go
func (db *SimpleCollection) ReplaceOne(ctx context.Context, filter bson.D, replacement interface{}) (int, error)
```



<a name="SimpleCollection.String"></a>
### func \(\*SimpleCollection\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L357>)

```go
func (db *SimpleCollection) String() string
```



<a name="SimpleCollection.UpdateMany"></a>
### func \(\*SimpleCollection\) [UpdateMany](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L252>)

```go
func (db *SimpleCollection) UpdateMany(ctx context.Context, filter bson.D, update bson.D) (int, error)
```



<a name="SimpleCollection.UpdateOne"></a>
### func \(\*SimpleCollection\) [UpdateOne](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L223>)

```go
func (db *SimpleCollection) UpdateOne(ctx context.Context, filter bson.D, update bson.D) (int, error)
```



<a name="SimpleCollection.Upsert"></a>
### func \(\*SimpleCollection\) [Upsert](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L290>)

```go
func (db *SimpleCollection) Upsert(ctx context.Context, filter bson.D, document interface{}) (bool, error)
```



<a name="SimpleCollection.UpsertID"></a>
### func \(\*SimpleCollection\) [UpsertID](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L298>)

```go
func (db *SimpleCollection) UpsertID(ctx context.Context, id primitive.ObjectID, document interface{}) (bool, error)
```



<a name="SimpleCursor"></a>
## type [SimpleCursor](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L35-L37>)

Simple implementations of the NoSQLDB Interfaces from runtime/core/backend

```go
type SimpleCursor struct {
    // contains filtered or unexported fields
}
```

<a name="SimpleCursor.All"></a>
### func \(\*SimpleCursor\) [All](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L94>)

```go
func (c *SimpleCursor) All(ctx context.Context, obj interface{}) error
```



<a name="SimpleCursor.One"></a>
### func \(\*SimpleCursor\) [One](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L63>)

```go
func (c *SimpleCursor) One(ctx context.Context, obj interface{}) (bool, error)
```



<a name="SimpleNoSQLDB"></a>
## type [SimpleNoSQLDB](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L27-L29>)

Implements the \[backend.NoSQLDatabase\] interface for a subset of MongoDB's query and update operators.

Only a small set of common basic filter and update operators are supported, but typically this is sufficient for most applications and enables writing service\-level unit tests.

```go
type SimpleNoSQLDB struct {
    // contains filtered or unexported fields
}
```

<a name="NewSimpleNoSQLDB"></a>
### func [NewSimpleNoSQLDB](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L41>)

```go
func NewSimpleNoSQLDB(ctx context.Context) (*SimpleNoSQLDB, error)
```

Instantiate a new in\-memory NoSQLDB

<a name="SimpleNoSQLDB.GetCollection"></a>
### func \(\*SimpleNoSQLDB\) [GetCollection](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/plugins/simplenosqldb/nosqldb.go#L47>)

```go
func (impl *SimpleNoSQLDB) GetCollection(ctx context.Context, db_name string, collection_name string) (backend.NoSQLCollection, error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
