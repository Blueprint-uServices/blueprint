<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# payment

```go
import "github.com/blueprint-uservices/blueprint/examples/train_ticket/workflow/payment"
```

package payment implements ts\-payment\-service from the original train ticket application

## Index

- [type Money](<#Money>)
- [type Payment](<#Payment>)
- [type PaymentService](<#PaymentService>)
- [type PaymentServiceImpl](<#PaymentServiceImpl>)
  - [func NewPaymentServiceImpl\(ctx context.Context, payDB backend.NoSQLDatabase, moneyDB backend.NoSQLDatabase\) \(\*PaymentServiceImpl, error\)](<#NewPaymentServiceImpl>)
  - [func \(p \*PaymentServiceImpl\) AddMoney\(ctx context.Context, payment Payment\) error](<#PaymentServiceImpl.AddMoney>)
  - [func \(p \*PaymentServiceImpl\) Cleanup\(ctx context.Context\) error](<#PaymentServiceImpl.Cleanup>)
  - [func \(p \*PaymentServiceImpl\) InitPayment\(ctx context.Context, payment Payment\) error](<#PaymentServiceImpl.InitPayment>)
  - [func \(p \*PaymentServiceImpl\) Pay\(ctx context.Context, payment Payment\) error](<#PaymentServiceImpl.Pay>)
  - [func \(p \*PaymentServiceImpl\) Query\(ctx context.Context\) \(\[\]Payment, error\)](<#PaymentServiceImpl.Query>)


<a name="Money"></a>
## type [Money](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/data.go#L10-L14>)



```go
type Money struct {
    ID     string
    UserID string
    Price  string
}
```

<a name="Payment"></a>
## type [Payment](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/data.go#L3-L8>)



```go
type Payment struct {
    ID      string
    OrderID string
    UserID  string
    Price   string
}
```

<a name="PaymentService"></a>
## type [PaymentService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L14-L25>)

PaymentService manages payments in the application

```go
type PaymentService interface {
    // Pay `payment`
    Pay(ctx context.Context, payment Payment) error
    // Adds Money to an existing user's account
    AddMoney(ctx context.Context, payment Payment) error
    // Get all payments
    Query(ctx context.Context) ([]Payment, error)
    // Create an initial payment
    InitPayment(ctx context.Context, payment Payment) error
    // Remove all payments; Only used in testing
    Cleanup(ctx context.Context) error
}
```

<a name="PaymentServiceImpl"></a>
## type [PaymentServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L28-L31>)

Implementation of PaymentService

```go
type PaymentServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="NewPaymentServiceImpl"></a>
### func [NewPaymentServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L34>)

```go
func NewPaymentServiceImpl(ctx context.Context, payDB backend.NoSQLDatabase, moneyDB backend.NoSQLDatabase) (*PaymentServiceImpl, error)
```

Creates a new PaymentService object

<a name="PaymentServiceImpl.AddMoney"></a>
### func \(\*PaymentServiceImpl\) [AddMoney](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L87>)

```go
func (p *PaymentServiceImpl) AddMoney(ctx context.Context, payment Payment) error
```



<a name="PaymentServiceImpl.Cleanup"></a>
### func \(\*PaymentServiceImpl\) [Cleanup](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L100>)

```go
func (p *PaymentServiceImpl) Cleanup(ctx context.Context) error
```



<a name="PaymentServiceImpl.InitPayment"></a>
### func \(\*PaymentServiceImpl\) [InitPayment](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L38>)

```go
func (p *PaymentServiceImpl) InitPayment(ctx context.Context, payment Payment) error
```



<a name="PaymentServiceImpl.Pay"></a>
### func \(\*PaymentServiceImpl\) [Pay](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L72>)

```go
func (p *PaymentServiceImpl) Pay(ctx context.Context, payment Payment) error
```



<a name="PaymentServiceImpl.Query"></a>
### func \(\*PaymentServiceImpl\) [Query](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/train_ticket/workflow/payment/paymentService.go#L58>)

```go
func (p *PaymentServiceImpl) Query(ctx context.Context) ([]Payment, error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
