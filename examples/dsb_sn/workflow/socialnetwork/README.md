<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# socialnetwork

```go
import "github.com/blueprint-uservices/blueprint/examples/dsb_sn/workflow/socialnetwork"
```

## Index

- [Constants](<#constants>)
- [func GetMachineID\(\) string](<#GetMachineID>)
- [type ComposePostService](<#ComposePostService>)
  - [func NewComposePostServiceImpl\(ctx context.Context, postStorageService PostStorageService, userTimelineService UserTimelineService, userService UserService, uniqueIDService UniqueIdService, mediaService MediaService, textService TextService, homeTimelineService HomeTimelineService\) \(ComposePostService, error\)](<#NewComposePostServiceImpl>)
- [type ComposePostServiceImpl](<#ComposePostServiceImpl>)
  - [func \(c \*ComposePostServiceImpl\) ComposePost\(ctx context.Context, reqID int64, username string, userID int64, text string, mediaIDs \[\]int64, mediaTypes \[\]string, postType int64\) \(int64, \[\]int64, error\)](<#ComposePostServiceImpl.ComposePost>)
- [type Creator](<#Creator>)
- [type FolloweeInfo](<#FolloweeInfo>)
- [type FollowerInfo](<#FollowerInfo>)
- [type HomeTimelineService](<#HomeTimelineService>)
  - [func NewHomeTimelineServiceImpl\(ctx context.Context, homeTimelineCache backend.Cache, postStorageService PostStorageService, socialGraphService SocialGraphService\) \(HomeTimelineService, error\)](<#NewHomeTimelineServiceImpl>)
- [type HomeTimelineServiceImpl](<#HomeTimelineServiceImpl>)
  - [func \(h \*HomeTimelineServiceImpl\) ReadHomeTimeline\(ctx context.Context, reqID int64, userID int64, start int64, stop int64\) \(\[\]int64, error\)](<#HomeTimelineServiceImpl.ReadHomeTimeline>)
  - [func \(h \*HomeTimelineServiceImpl\) WriteHomeTimeline\(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64, userMentionIDs \[\]int64\) error](<#HomeTimelineServiceImpl.WriteHomeTimeline>)
- [type LoginObj](<#LoginObj>)
- [type Media](<#Media>)
- [type MediaService](<#MediaService>)
  - [func NewMediaServiceImpl\(ctx context.Context\) \(MediaService, error\)](<#NewMediaServiceImpl>)
- [type MediaServiceImpl](<#MediaServiceImpl>)
  - [func \(m \*MediaServiceImpl\) ComposeMedia\(ctx context.Context, reqID int64, mediaTypes \[\]string, mediaIds \[\]int64\) \(\[\]Media, error\)](<#MediaServiceImpl.ComposeMedia>)
- [type Post](<#Post>)
- [type PostInfo](<#PostInfo>)
- [type PostStorageService](<#PostStorageService>)
  - [func NewPostStorageServiceImpl\(ctx context.Context, postStorageCache backend.Cache, postStorageDB backend.NoSQLDatabase\) \(PostStorageService, error\)](<#NewPostStorageServiceImpl>)
- [type PostStorageServiceImpl](<#PostStorageServiceImpl>)
  - [func \(p \*PostStorageServiceImpl\) ReadPost\(ctx context.Context, reqID int64, postID int64\) \(Post, error\)](<#PostStorageServiceImpl.ReadPost>)
  - [func \(p \*PostStorageServiceImpl\) ReadPosts\(ctx context.Context, reqID int64, postIDs \[\]int64\) \(\[\]Post, error\)](<#PostStorageServiceImpl.ReadPosts>)
  - [func \(p \*PostStorageServiceImpl\) StorePost\(ctx context.Context, reqID int64, post Post\) error](<#PostStorageServiceImpl.StorePost>)
- [type PostType](<#PostType>)
- [type SocialGraphService](<#SocialGraphService>)
  - [func NewSocialGraphServiceImpl\(ctx context.Context, socialGraphCache backend.Cache, socialGraphDB backend.NoSQLDatabase, userIDService UserIDService\) \(SocialGraphService, error\)](<#NewSocialGraphServiceImpl>)
- [type SocialGraphServiceImpl](<#SocialGraphServiceImpl>)
  - [func \(s \*SocialGraphServiceImpl\) Follow\(ctx context.Context, reqID int64, userID int64, followeeID int64\) error](<#SocialGraphServiceImpl.Follow>)
  - [func \(s \*SocialGraphServiceImpl\) FollowWithUsername\(ctx context.Context, reqID int64, username string, followee\_name string\) error](<#SocialGraphServiceImpl.FollowWithUsername>)
  - [func \(s \*SocialGraphServiceImpl\) GetFollowees\(ctx context.Context, reqID int64, userID int64\) \(\[\]int64, error\)](<#SocialGraphServiceImpl.GetFollowees>)
  - [func \(s \*SocialGraphServiceImpl\) GetFollowers\(ctx context.Context, reqID int64, userID int64\) \(\[\]int64, error\)](<#SocialGraphServiceImpl.GetFollowers>)
  - [func \(s \*SocialGraphServiceImpl\) InsertUser\(ctx context.Context, reqID int64, userID int64\) error](<#SocialGraphServiceImpl.InsertUser>)
  - [func \(s \*SocialGraphServiceImpl\) Unfollow\(ctx context.Context, reqID int64, userID int64, followeeID int64\) error](<#SocialGraphServiceImpl.Unfollow>)
  - [func \(s \*SocialGraphServiceImpl\) UnfollowWithUsername\(ctx context.Context, reqID int64, username string, followee\_name string\) error](<#SocialGraphServiceImpl.UnfollowWithUsername>)
- [type TextService](<#TextService>)
  - [func NewTextServiceImpl\(ctx context.Context, urlShortenService UrlShortenService, userMentionService UserMentionService\) \(TextService, error\)](<#NewTextServiceImpl>)
- [type TextServiceImpl](<#TextServiceImpl>)
  - [func \(t \*TextServiceImpl\) ComposeText\(ctx context.Context, reqID int64, text string\) \(string, \[\]UserMention, \[\]URL, error\)](<#TextServiceImpl.ComposeText>)
- [type URL](<#URL>)
- [type UniqueIdService](<#UniqueIdService>)
  - [func NewUniqueIdServiceImpl\(ctx context.Context\) \(UniqueIdService, error\)](<#NewUniqueIdServiceImpl>)
- [type UniqueIdServiceImpl](<#UniqueIdServiceImpl>)
  - [func \(u \*UniqueIdServiceImpl\) ComposeUniqueId\(ctx context.Context, reqID int64, postType int64\) \(int64, error\)](<#UniqueIdServiceImpl.ComposeUniqueId>)
- [type UrlShortenService](<#UrlShortenService>)
  - [func NewUrlShortenServiceImpl\(ctx context.Context, urlShortenDB backend.NoSQLDatabase\) \(UrlShortenService, error\)](<#NewUrlShortenServiceImpl>)
- [type UrlShortenServiceImpl](<#UrlShortenServiceImpl>)
  - [func \(u \*UrlShortenServiceImpl\) ComposeUrls\(ctx context.Context, reqID int64, urls \[\]string\) \(\[\]URL, error\)](<#UrlShortenServiceImpl.ComposeUrls>)
  - [func \(u \*UrlShortenServiceImpl\) GetExtendedUrls\(ctx context.Context, reqID int64, shortenedUrls \[\]string\) \(\[\]string, error\)](<#UrlShortenServiceImpl.GetExtendedUrls>)
- [type User](<#User>)
- [type UserIDService](<#UserIDService>)
  - [func NewUserIDServiceImpl\(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase\) \(UserIDService, error\)](<#NewUserIDServiceImpl>)
- [type UserIDServiceImpl](<#UserIDServiceImpl>)
  - [func \(u \*UserIDServiceImpl\) GetUserId\(ctx context.Context, reqID int64, username string\) \(int64, error\)](<#UserIDServiceImpl.GetUserId>)
- [type UserInfo](<#UserInfo>)
- [type UserMention](<#UserMention>)
- [type UserMentionService](<#UserMentionService>)
  - [func NewUserMentionServiceImpl\(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase\) \(UserMentionService, error\)](<#NewUserMentionServiceImpl>)
- [type UserMentionServiceImpl](<#UserMentionServiceImpl>)
  - [func \(u \*UserMentionServiceImpl\) ComposeUserMentions\(ctx context.Context, reqID int64, usernames \[\]string\) \(\[\]UserMention, error\)](<#UserMentionServiceImpl.ComposeUserMentions>)
- [type UserPosts](<#UserPosts>)
- [type UserService](<#UserService>)
  - [func NewUserServiceImpl\(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase, socialGraphService SocialGraphService, secret string\) \(UserService, error\)](<#NewUserServiceImpl>)
- [type UserServiceImpl](<#UserServiceImpl>)
  - [func \(u \*UserServiceImpl\) ComposeCreatorWithUserId\(ctx context.Context, reqID int64, userID int64, username string\) \(Creator, error\)](<#UserServiceImpl.ComposeCreatorWithUserId>)
  - [func \(u \*UserServiceImpl\) ComposeCreatorWithUsername\(ctx context.Context, reqID int64, username string\) \(Creator, error\)](<#UserServiceImpl.ComposeCreatorWithUsername>)
  - [func \(u \*UserServiceImpl\) Login\(ctx context.Context, reqID int64, username string, password string\) \(string, error\)](<#UserServiceImpl.Login>)
  - [func \(u \*UserServiceImpl\) RegisterUser\(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string\) error](<#UserServiceImpl.RegisterUser>)
  - [func \(u \*UserServiceImpl\) RegisterUserWithId\(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string, userID int64\) error](<#UserServiceImpl.RegisterUserWithId>)
- [type UserTimelineService](<#UserTimelineService>)
  - [func NewUserTimelineServiceImpl\(ctx context.Context, userTimelineCache backend.Cache, userTimelineDB backend.NoSQLDatabase, postStorageService PostStorageService\) \(UserTimelineService, error\)](<#NewUserTimelineServiceImpl>)
- [type UserTimelineServiceImpl](<#UserTimelineServiceImpl>)
  - [func \(u \*UserTimelineServiceImpl\) ReadUserTimeline\(ctx context.Context, reqID int64, userID int64, start int64, stop int64\) \(\[\]int64, error\)](<#UserTimelineServiceImpl.ReadUserTimeline>)
  - [func \(u \*UserTimelineServiceImpl\) WriteUserTimeline\(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64\) error](<#UserTimelineServiceImpl.WriteUserTimeline>)
- [type Wrk2APIService](<#Wrk2APIService>)
  - [func NewWrk2APIServiceImpl\(ctx context.Context, userService UserService, composePostService ComposePostService, userTimelineService UserTimelineService, homeTimelineService HomeTimelineService, socialGraphService SocialGraphService\) \(Wrk2APIService, error\)](<#NewWrk2APIServiceImpl>)
- [type Wrk2APIServiceImpl](<#Wrk2APIServiceImpl>)
  - [func \(w \*Wrk2APIServiceImpl\) ComposePost\(ctx context.Context, userId int64, username string, post\_type int64, text string, media\_types \[\]string, media\_ids \[\]int64\) \(int64, \[\]int64, error\)](<#Wrk2APIServiceImpl.ComposePost>)
  - [func \(w \*Wrk2APIServiceImpl\) Follow\(ctx context.Context, username string, followeeName string, userId int64, followeeID int64\) error](<#Wrk2APIServiceImpl.Follow>)
  - [func \(w \*Wrk2APIServiceImpl\) ReadHomeTimeline\(ctx context.Context, userId int64, start int64, stop int64\) \(\[\]int64, error\)](<#Wrk2APIServiceImpl.ReadHomeTimeline>)
  - [func \(w \*Wrk2APIServiceImpl\) ReadUserTimeline\(ctx context.Context, userId int64, start int64, stop int64\) \(\[\]int64, error\)](<#Wrk2APIServiceImpl.ReadUserTimeline>)
  - [func \(w \*Wrk2APIServiceImpl\) Register\(ctx context.Context, firstName string, lastName string, username string, password string, userId int64\) error](<#Wrk2APIServiceImpl.Register>)
  - [func \(w \*Wrk2APIServiceImpl\) Unfollow\(ctx context.Context, username string, followeeName string, userId int64, followeeID int64\) error](<#Wrk2APIServiceImpl.Unfollow>)


## Constants

<a name="POST"></a>Enums aren't supported atm. So just use integers instead.

```go
const (
    POST int64 = iota
    REPOST
    REPLY
    DM
)
```

<a name="GetMachineID"></a>
## func [GetMachineID](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/common.go#L14>)

```go
func GetMachineID() string
```

From: https://gist.github.com/tsilvers/085c5f39430ced605d970094edf167ba

<a name="ComposePostService"></a>
## type [ComposePostService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/ComposePostService.go#L11-L14>)

The ComposePostService interface

```go
type ComposePostService interface {
    // Compose a post from the provided arguments
    ComposePost(ctx context.Context, reqID int64, username string, userID int64, text string, mediaIDs []int64, mediaTypes []string, postType int64) (int64, []int64, error)
}
```

<a name="NewComposePostServiceImpl"></a>
### func [NewComposePostServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/ComposePostService.go#L28>)

```go
func NewComposePostServiceImpl(ctx context.Context, postStorageService PostStorageService, userTimelineService UserTimelineService, userService UserService, uniqueIDService UniqueIdService, mediaService MediaService, textService TextService, homeTimelineService HomeTimelineService) (ComposePostService, error)
```

Creates a [ComposePostService](<#ComposePostService>) instance that creates a post from the provided arguments and connects to the various internal services to store the newly created post and update the state.

<a name="ComposePostServiceImpl"></a>
## type [ComposePostServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/ComposePostService.go#L17-L25>)

Implementation of [ComposePostService](<#ComposePostService>)

```go
type ComposePostServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="ComposePostServiceImpl.ComposePost"></a>
### func \(\*ComposePostServiceImpl\) [ComposePost](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/ComposePostService.go#L33>)

```go
func (c *ComposePostServiceImpl) ComposePost(ctx context.Context, reqID int64, username string, userID int64, text string, mediaIDs []int64, mediaTypes []string, postType int64) (int64, []int64, error)
```

ComposePost implements ComposePostService

<a name="Creator"></a>
## type [Creator](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L32-L35>)

The format of a creator stored as part of a post

```go
type Creator struct {
    UserID   int64
    Username string
}
```

<a name="FolloweeInfo"></a>
## type [FolloweeInfo](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L40-L43>)

The format of a followee's info stored in the user info in the social\-graph

```go
type FolloweeInfo struct {
    FolloweeID int64
    Timestamp  int64
}
```

<a name="FollowerInfo"></a>
## type [FollowerInfo](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L34-L37>)

The format of a follower's info stored in the user info in the social\-graph

```go
type FollowerInfo struct {
    FollowerID int64
    Timestamp  int64
}
```

<a name="HomeTimelineService"></a>
## type [HomeTimelineService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/HomeTimelineService.go#L12-L23>)

The HomeTimelineService Interface The full Timeline of a user is represented as an array of post ids: post\_ids\[id\_0 ,..., id\_n\].

```go
type HomeTimelineService interface {
    // Reads the timeline of the user that has the id `userID`.
    // The return value is represented by the slice: post_ids[start:stop].
    ReadHomeTimeline(ctx context.Context, reqID int64, userID int64, start int64, stop int64) ([]int64, error)
    // Adds a new post to the home timeline of the following users:
    // (i)   user with id `userID`,
    // (ii)  all the followers of the user with `userID`
    // (iii) all the mentioned users in the post listed in the `userMentionIDs`.
    // The new post ID is placed at the nth position in the post ids array.
    //    post_ids = append(post_ids, `postID`)
    WriteHomeTimeline(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64, userMentionIDs []int64) error
}
```

<a name="NewHomeTimelineServiceImpl"></a>
### func [NewHomeTimelineServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/HomeTimelineService.go#L33>)

```go
func NewHomeTimelineServiceImpl(ctx context.Context, homeTimelineCache backend.Cache, postStorageService PostStorageService, socialGraphService SocialGraphService) (HomeTimelineService, error)
```

Creates a [HomeTimelineService](<#HomeTimelineService>) instance that maintains the home timelines for the various users.

<a name="HomeTimelineServiceImpl"></a>
## type [HomeTimelineServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/HomeTimelineService.go#L26-L30>)

Implementation of [HomeTimelineService](<#HomeTimelineService>)

```go
type HomeTimelineServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="HomeTimelineServiceImpl.ReadHomeTimeline"></a>
### func \(\*HomeTimelineServiceImpl\) [ReadHomeTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/HomeTimelineService.go#L67>)

```go
func (h *HomeTimelineServiceImpl) ReadHomeTimeline(ctx context.Context, reqID int64, userID int64, start int64, stop int64) ([]int64, error)
```

Implements HomeTimelineService interface

<a name="HomeTimelineServiceImpl.WriteHomeTimeline"></a>
### func \(\*HomeTimelineServiceImpl\) [WriteHomeTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/HomeTimelineService.go#L38>)

```go
func (h *HomeTimelineServiceImpl) WriteHomeTimeline(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64, userMentionIDs []int64) error
```

Implements HomeTimelineService interface

<a name="LoginObj"></a>
## type [LoginObj](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L47-L51>)

The format of a Login object.

```go
type LoginObj struct {
    UserID   int64
    Password string
    Salt     string
}
```

<a name="Media"></a>
## type [Media](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L14-L17>)

The format of a media stored as part of a post.

```go
type Media struct {
    MediaID   int64
    MediaType string
}
```

<a name="MediaService"></a>
## type [MediaService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/MediaService.go#L9-L13>)

The MediaService interface

```go
type MediaService interface {
    // Creates and returns a list of Media objects from the provided `mediaTypes` and `mediaIds` arguments.
    // Returns an error if the length of mediaTypes and mediaIds do not match.
    ComposeMedia(ctx context.Context, reqID int64, mediaTypes []string, mediaIds []int64) ([]Media, error)
}
```

<a name="NewMediaServiceImpl"></a>
### func [NewMediaServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/MediaService.go#L19>)

```go
func NewMediaServiceImpl(ctx context.Context) (MediaService, error)
```

Creates a [MediaService](<#MediaService>) instance that creates media objects

<a name="MediaServiceImpl"></a>
## type [MediaServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/MediaService.go#L16>)

Implementation of [MediaService](<#MediaService>)

```go
type MediaServiceImpl struct{}
```

<a name="MediaServiceImpl.ComposeMedia"></a>
### func \(\*MediaServiceImpl\) [ComposeMedia](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/MediaService.go#L24>)

```go
func (m *MediaServiceImpl) ComposeMedia(ctx context.Context, reqID int64, mediaTypes []string, mediaIds []int64) ([]Media, error)
```

Implements MediaService interface

<a name="Post"></a>
## type [Post](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L48-L58>)



```go
type Post struct {
    PostID       int64
    Creator      Creator
    ReqID        int64
    Text         string
    UserMentions []UserMention
    Medias       []Media
    Urls         []URL
    Timestamp    int64
    PostType     int64
}
```

<a name="PostInfo"></a>
## type [PostInfo](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L27-L30>)

The format of a single post in a user's timeline stored in the backend.

```go
type PostInfo struct {
    PostID    int64
    Timestamp int64
}
```

<a name="PostStorageService"></a>
## type [PostStorageService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L17-L26>)

The PostStorageService interface

```go
type PostStorageService interface {
    // Stores a new `post` in the relevant backends.
    StorePost(ctx context.Context, reqID int64, post Post) error
    // Returns the post with id `postID`
    // If no post with id `postID` exists in the database, an error is returned.
    ReadPost(ctx context.Context, reqID int64, postID int64) (Post, error)
    // Returns a list of posts that have ids in the array `postIDs`.
    // No error is thrown if no post is found.
    ReadPosts(ctx context.Context, reqID int64, postIDs []int64) ([]Post, error)
}
```

<a name="NewPostStorageServiceImpl"></a>
### func [NewPostStorageServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L38>)

```go
func NewPostStorageServiceImpl(ctx context.Context, postStorageCache backend.Cache, postStorageDB backend.NoSQLDatabase) (PostStorageService, error)
```

Creates a [PostStorageService](<#PostStorageService>) instance that manages the post backends.

<a name="PostStorageServiceImpl"></a>
## type [PostStorageServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L29-L35>)

Implementation of [PostStorageService](<#PostStorageService>)

```go
type PostStorageServiceImpl struct {
    CacheHits int64
    NumReqs   int64
    CacheMiss int64
    // contains filtered or unexported fields
}
```

<a name="PostStorageServiceImpl.ReadPost"></a>
### func \(\*PostStorageServiceImpl\) [ReadPost](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L53>)

```go
func (p *PostStorageServiceImpl) ReadPost(ctx context.Context, reqID int64, postID int64) (Post, error)
```

Implements PostStorageService interface

<a name="PostStorageServiceImpl.ReadPosts"></a>
### func \(\*PostStorageServiceImpl\) [ReadPosts](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L79>)

```go
func (p *PostStorageServiceImpl) ReadPosts(ctx context.Context, reqID int64, postIDs []int64) ([]Post, error)
```

Implements PostStorageService interface

<a name="PostStorageServiceImpl.StorePost"></a>
### func \(\*PostStorageServiceImpl\) [StorePost](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/PostStorageService.go#L44>)

```go
func (p *PostStorageServiceImpl) StorePost(ctx context.Context, reqID int64, post Post) error
```

Implements PostStorageService interface

<a name="PostType"></a>
## type [PostType](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L38>)

The type of the post.

```go
type PostType int64
```

<a name="SocialGraphService"></a>
## type [SocialGraphService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L14-L31>)

The SocialGraphService interface

```go
type SocialGraphService interface {
    // Returns the user IDs of all the followers of the user with user id `userID`.
    // Returns an error if user with `userID` doesn't exist in database.
    GetFollowers(ctx context.Context, reqID int64, userID int64) ([]int64, error)
    // Returns the user IDs of all the followees of the user with user id `userID`.
    // Returns an error if user with `userID` doesn't exist in database.
    GetFollowees(ctx context.Context, reqID int64, userID int64) ([]int64, error)
    // Creates a follower-followee relationship between users with IDs `userID`-`followeeID`.
    Follow(ctx context.Context, reqID int64, userID int64, followeeID int64) error
    // Removes the follower-followee relationship between users with IDs `userID`-`followeeID`.
    Unfollow(ctx context.Context, reqID int64, userID int64, followeeID int64) error
    // Creates a follower-followee relationship between users with usernames `userUsername`-`followeeUsername`.
    FollowWithUsername(ctx context.Context, reqID int64, userUsername string, followeeUsername string) error
    // Removes the follower-followee relationship between users with usernames `userUsername`-`followeeUsername`.
    UnfollowWithUsername(ctx context.Context, reqID int64, userUsername string, followeeUsername string) error
    // Inserts a new user with `userID` in the database.
    InsertUser(ctx context.Context, reqID int64, userID int64) error
}
```

<a name="NewSocialGraphServiceImpl"></a>
### func [NewSocialGraphServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L60>)

```go
func NewSocialGraphServiceImpl(ctx context.Context, socialGraphCache backend.Cache, socialGraphDB backend.NoSQLDatabase, userIDService UserIDService) (SocialGraphService, error)
```

Creates a [SocialGraphService](<#SocialGraphService>) instance that maintains the social graph backends.

<a name="SocialGraphServiceImpl"></a>
## type [SocialGraphServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L53-L57>)

Implementation of [SocialGraphService](<#SocialGraphService>)

```go
type SocialGraphServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="SocialGraphServiceImpl.Follow"></a>
### func \(\*SocialGraphServiceImpl\) [Follow](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L148>)

```go
func (s *SocialGraphServiceImpl) Follow(ctx context.Context, reqID int64, userID int64, followeeID int64) error
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.FollowWithUsername"></a>
### func \(\*SocialGraphServiceImpl\) [FollowWithUsername](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L308>)

```go
func (s *SocialGraphServiceImpl) FollowWithUsername(ctx context.Context, reqID int64, username string, followee_name string) error
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.GetFollowees"></a>
### func \(\*SocialGraphServiceImpl\) [GetFollowees](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L105>)

```go
func (s *SocialGraphServiceImpl) GetFollowees(ctx context.Context, reqID int64, userID int64) ([]int64, error)
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.GetFollowers"></a>
### func \(\*SocialGraphServiceImpl\) [GetFollowers](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L65>)

```go
func (s *SocialGraphServiceImpl) GetFollowers(ctx context.Context, reqID int64, userID int64) ([]int64, error)
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.InsertUser"></a>
### func \(\*SocialGraphServiceImpl\) [InsertUser](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L360>)

```go
func (s *SocialGraphServiceImpl) InsertUser(ctx context.Context, reqID int64, userID int64) error
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.Unfollow"></a>
### func \(\*SocialGraphServiceImpl\) [Unfollow](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L225>)

```go
func (s *SocialGraphServiceImpl) Unfollow(ctx context.Context, reqID int64, userID int64, followeeID int64) error
```

Implements SocialGraphService interface

<a name="SocialGraphServiceImpl.UnfollowWithUsername"></a>
### func \(\*SocialGraphServiceImpl\) [UnfollowWithUsername](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L334>)

```go
func (s *SocialGraphServiceImpl) UnfollowWithUsername(ctx context.Context, reqID int64, username string, followee_name string) error
```

Implements SocialGraphService interface

<a name="TextService"></a>
## type [TextService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/TextService.go#L11-L14>)

The TextService interface

```go
type TextService interface {
    // Parses the raw `text` to return an edited text with the urls replaced with shortened urls, usermention objects to be stored with the post, and the url objects to be stored with the post.
    ComposeText(ctx context.Context, reqID int64, text string) (string, []UserMention, []URL, error)
}
```

<a name="NewTextServiceImpl"></a>
### func [NewTextServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/TextService.go#L23>)

```go
func NewTextServiceImpl(ctx context.Context, urlShortenService UrlShortenService, userMentionService UserMentionService) (TextService, error)
```

Creates a [TextService](<#TextService>) instance for parsing texts in created posts.

<a name="TextServiceImpl"></a>
## type [TextServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/TextService.go#L17-L20>)

Implementation of [TextService](<#TextService>)

```go
type TextServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="TextServiceImpl.ComposeText"></a>
### func \(\*TextServiceImpl\) [ComposeText](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/TextService.go#L28>)

```go
func (t *TextServiceImpl) ComposeText(ctx context.Context, reqID int64, text string) (string, []UserMention, []URL, error)
```

Implements TextService interface

<a name="URL"></a>
## type [URL](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L20-L23>)

The format of a url stored in the url\-shorten database

```go
type URL struct {
    ShortenedUrl string
    ExpandedUrl  string
}
```

<a name="UniqueIdService"></a>
## type [UniqueIdService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UniqueIdService.go#L12-L15>)

The UniqueIdService interface

```go
type UniqueIdService interface {
    // Returns a newly generated unique id to be used as a post's unique identifier.
    ComposeUniqueId(ctx context.Context, reqID int64, postType int64) (int64, error)
}
```

<a name="NewUniqueIdServiceImpl"></a>
### func [NewUniqueIdServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UniqueIdService.go#L25>)

```go
func NewUniqueIdServiceImpl(ctx context.Context) (UniqueIdService, error)
```

Implements UniqueIdService interface

<a name="UniqueIdServiceImpl"></a>
## type [UniqueIdServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UniqueIdService.go#L18-L22>)

Implementation of [UserTimelineService](<#UserTimelineService>)

```go
type UniqueIdServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="UniqueIdServiceImpl.ComposeUniqueId"></a>
### func \(\*UniqueIdServiceImpl\) [ComposeUniqueId](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UniqueIdService.go#L42>)

```go
func (u *UniqueIdServiceImpl) ComposeUniqueId(ctx context.Context, reqID int64, postType int64) (int64, error)
```

Implements UniqueIdService interface

<a name="UrlShortenService"></a>
## type [UrlShortenService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UrlShortenService.go#L12-L17>)

The UrlShortenService interface

```go
type UrlShortenService interface {
    // Converts raw `urls` into shortened urls to be used within the application. Returns the list of shortened urls.
    ComposeUrls(ctx context.Context, reqID int64, urls []string) ([]URL, error)
    // Converts the list of shortened urls into their extended forms.
    GetExtendedUrls(ctx context.Context, reqID int64, shortenedUrls []string) ([]string, error)
}
```

<a name="NewUrlShortenServiceImpl"></a>
### func [NewUrlShortenServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UrlShortenService.go#L26>)

```go
func NewUrlShortenServiceImpl(ctx context.Context, urlShortenDB backend.NoSQLDatabase) (UrlShortenService, error)
```

Creates a [UrlShortenService](<#UrlShortenService>) instance for converting raw urls to shortened urls and vice versa.

<a name="UrlShortenServiceImpl"></a>
## type [UrlShortenServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UrlShortenService.go#L20-L23>)

Implementation of [UrlShortenService](<#UrlShortenService>)

```go
type UrlShortenServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="UrlShortenServiceImpl.ComposeUrls"></a>
### func \(\*UrlShortenServiceImpl\) [ComposeUrls](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UrlShortenService.go#L40>)

```go
func (u *UrlShortenServiceImpl) ComposeUrls(ctx context.Context, reqID int64, urls []string) ([]URL, error)
```

Implements ComposeUrls interface

<a name="UrlShortenServiceImpl.GetExtendedUrls"></a>
### func \(\*UrlShortenServiceImpl\) [GetExtendedUrls](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UrlShortenService.go#L66>)

```go
func (u *UrlShortenServiceImpl) GetExtendedUrls(ctx context.Context, reqID int64, shortenedUrls []string) ([]string, error)
```

Implements UrlShortenService interface. Currently not implemented as the original DSB application doesn't implement this function either.

<a name="User"></a>
## type [User](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L4-L11>)

The format of a user stored in the user database

```go
type User struct {
    UserID    int64
    FirstName string
    LastName  string
    Username  string
    PwdHashed string
    Salt      string
}
```

<a name="UserIDService"></a>
## type [UserIDService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserIdService.go#L12-L16>)

The UserIDService interface

```go
type UserIDService interface {
    // Returns the userID of the user associated with the `username`.
    // Returns an error if no user exists with the given `username`.
    GetUserId(ctx context.Context, reqID int64, username string) (int64, error)
}
```

<a name="NewUserIDServiceImpl"></a>
### func [NewUserIDServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserIdService.go#L25>)

```go
func NewUserIDServiceImpl(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase) (UserIDService, error)
```

Creates a [UserIDService](<#UserIDService>) instance for looking up users with usernames.

<a name="UserIDServiceImpl"></a>
## type [UserIDServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserIdService.go#L19-L22>)

Implementation of [UserIDService](<#UserIDService>)

```go
type UserIDServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="UserIDServiceImpl.GetUserId"></a>
### func \(\*UserIDServiceImpl\) [GetUserId](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserIdService.go#L30>)

```go
func (u *UserIDServiceImpl) GetUserId(ctx context.Context, reqID int64, username string) (int64, error)
```

Implements UserIDService interface

<a name="UserInfo"></a>
## type [UserInfo](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/SocialGraphService.go#L46-L50>)

The format of a user's info stored in the social\-graph

```go
type UserInfo struct {
    UserID    int64
    Followers []FollowerInfo
    Followees []FolloweeInfo
}
```

<a name="UserMention"></a>
## type [UserMention](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/DataModels.go#L26-L29>)

The format of a usermention stored as part of a post

```go
type UserMention struct {
    UserID   int64
    Username string
}
```

<a name="UserMentionService"></a>
## type [UserMentionService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserMentionService.go#L12-L16>)

The UserMentionService interface

```go
type UserMentionService interface {
    // Composes UserMention objects to be stored in a post by converting raw usernames.
    // Returns an error if any name in the `usernames` array is not registered.
    ComposeUserMentions(ctx context.Context, reqID int64, usernames []string) ([]UserMention, error)
}
```

<a name="NewUserMentionServiceImpl"></a>
### func [NewUserMentionServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserMentionService.go#L25>)

```go
func NewUserMentionServiceImpl(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase) (UserMentionService, error)
```

Creates a [UserMentionService](<#UserMentionService>) instance that is responsible for converting usernames to usermention objects

<a name="UserMentionServiceImpl"></a>
## type [UserMentionServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserMentionService.go#L19-L22>)

Implementation of [UserMentionService](<#UserMentionService>)

```go
type UserMentionServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="UserMentionServiceImpl.ComposeUserMentions"></a>
### func \(\*UserMentionServiceImpl\) [ComposeUserMentions](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserMentionService.go#L30>)

```go
func (u *UserMentionServiceImpl) ComposeUserMentions(ctx context.Context, reqID int64, usernames []string) ([]UserMention, error)
```

Implements the UserMentionService interface

<a name="UserPosts"></a>
## type [UserPosts](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L33-L36>)

The format of a user's timeline stored in the backend.

```go
type UserPosts struct {
    UserID int64
    Posts  []PostInfo
}
```

<a name="UserService"></a>
## type [UserService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L19-L33>)

The UserService interface

```go
type UserService interface {
    // Logs in a user using the user's `username` and `password`
    // Returns an error if the username is not registered or if the provided password doesn't match the stored password.
    Login(ctx context.Context, reqID int64, username string, password string) (string, error)
    // Registers a new user with a given `userID`.
    // Returns an error if the `userID` is already taken.
    RegisterUserWithId(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string, userID int64) error
    // Registers a new user. A random `userID` is generated by the service.
    RegisterUser(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string) error
    // Creates and returns a creator object to be included in a Post. The Creator object is created using the `userID`.
    ComposeCreatorWithUserId(ctx context.Context, reqID int64, userID int64, username string) (Creator, error)
    // Creates and returns a creator object to be included in a Post. The service looks up the userID of the user with the given `username`.
    // Returns an error if the user with the given `username` is not registered.
    ComposeCreatorWithUsername(ctx context.Context, reqID int64, username string) (Creator, error)
}
```

<a name="NewUserServiceImpl"></a>
### func [NewUserServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L62>)

```go
func NewUserServiceImpl(ctx context.Context, userCache backend.Cache, userDB backend.NoSQLDatabase, socialGraphService SocialGraphService, secret string) (UserService, error)
```

Implementation of [UserService](<#UserService>)

<a name="UserServiceImpl"></a>
## type [UserServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L36-L44>)

Implementation of [UserService](<#UserService>)

```go
type UserServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="UserServiceImpl.ComposeCreatorWithUserId"></a>
### func \(\*UserServiceImpl\) [ComposeCreatorWithUserId](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L142>)

```go
func (u *UserServiceImpl) ComposeCreatorWithUserId(ctx context.Context, reqID int64, userID int64, username string) (Creator, error)
```

Implements UserService interface

<a name="UserServiceImpl.ComposeCreatorWithUsername"></a>
### func \(\*UserServiceImpl\) [ComposeCreatorWithUsername](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L147>)

```go
func (u *UserServiceImpl) ComposeCreatorWithUsername(ctx context.Context, reqID int64, username string) (Creator, error)
```

Implements UserService interface

<a name="UserServiceImpl.Login"></a>
### func \(\*UserServiceImpl\) [Login](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L93>)

```go
func (u *UserServiceImpl) Login(ctx context.Context, reqID int64, username string, password string) (string, error)
```

Implements UserService interface

<a name="UserServiceImpl.RegisterUser"></a>
### func \(\*UserServiceImpl\) [RegisterUser](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L208>)

```go
func (u *UserServiceImpl) RegisterUser(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string) error
```

Implements UserService interface

<a name="UserServiceImpl.RegisterUserWithId"></a>
### func \(\*UserServiceImpl\) [RegisterUserWithId](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserService.go#L179>)

```go
func (u *UserServiceImpl) RegisterUserWithId(ctx context.Context, reqID int64, firstName string, lastName string, username string, password string, userID int64) error
```

Implements UserService interface

<a name="UserTimelineService"></a>
## type [UserTimelineService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L16-L24>)

The UserTimelineService interface The full Timeline of a user is represented as an array of post ids: post\_ids\[id\_0 ,..., id\_n\].

```go
type UserTimelineService interface {
    // Reads the timeline of the user that has the id `userID`.
    // The return value is represented by the slice: post_ids[start:stop].
    ReadUserTimeline(ctx context.Context, reqID int64, userID int64, start int64, stop int64) ([]int64, error)
    // Adds a new post to the user timeline of the user that has the id `userID`
    // The new post ID is placed at the 0th position in the post ids array.
    //    post_ids = []int64{`postID`, post_ids...)
    WriteUserTimeline(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64) error
}
```

<a name="NewUserTimelineServiceImpl"></a>
### func [NewUserTimelineServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L49>)

```go
func NewUserTimelineServiceImpl(ctx context.Context, userTimelineCache backend.Cache, userTimelineDB backend.NoSQLDatabase, postStorageService PostStorageService) (UserTimelineService, error)
```

Creates a [UserTimelineService](<#UserTimelineService>) instance for managing the user timelines for the various users.

<a name="UserTimelineServiceImpl"></a>
## type [UserTimelineServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L39-L46>)

Implementation of [UserTimelineService](<#UserTimelineService>)

```go
type UserTimelineServiceImpl struct {
    CacheHits   int64
    CacheMiss   int64
    NumRequests int64
    // contains filtered or unexported fields
}
```

<a name="UserTimelineServiceImpl.ReadUserTimeline"></a>
### func \(\*UserTimelineServiceImpl\) [ReadUserTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L55>)

```go
func (u *UserTimelineServiceImpl) ReadUserTimeline(ctx context.Context, reqID int64, userID int64, start int64, stop int64) ([]int64, error)
```

Implements UserTimelineService interface

<a name="UserTimelineServiceImpl.WriteUserTimeline"></a>
### func \(\*UserTimelineServiceImpl\) [WriteUserTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/UserTimelineService.go#L148>)

```go
func (u *UserTimelineServiceImpl) WriteUserTimeline(ctx context.Context, reqID int64, postID int64, userID int64, timestamp int64) error
```

Implements UserTimelineService interface

<a name="Wrk2APIService"></a>
## type [Wrk2APIService](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L11-L31>)

The Wrk2APIService \(Frontend\) interface

```go
type Wrk2APIService interface {
    // Reads the home timeline of the user with `userId`.
    // Returns the list of posts[start, stop] from the timeline.
    ReadHomeTimeline(ctx context.Context, userId int64, start int64, stop int64) ([]int64, error)
    // Reads the user timeline of the user with `userId`.
    // Returns the list of posts[start, stop] from the timeline.
    ReadUserTimeline(ctx context.Context, userId int64, start int64, stop int64) ([]int64, error)
    // Creates a Follow-Link between users `userId`-`followeeID`.
    // If the user ids are not provided, then it creates a follow-link between users `username`-`followeeName`.
    // Returns an error if no pairs are provided.
    Follow(ctx context.Context, username string, followeeName string, userId int64, followeeID int64) error
    // Removes a Follow-Link between users `userId`-`followeeID`.
    // If the user ids are not provided, then it creates a follow-link between users `username`-`followeeName`.
    // Returns an error if no pairs are provided.
    Unfollow(ctx context.Context, username string, followeeName string, userId int64, followeeID int64) error
    // Registers a new user with the given `userId`.
    Register(ctx context.Context, firstName string, lastName string, username string, password string, userId int64) error
    // Composes a new post give the provided arguments.
    // Returns the created post's ID and the ids of the mentioned users.
    ComposePost(ctx context.Context, userId int64, username string, post_type int64, text string, media_types []string, media_ids []int64) (int64, []int64, error)
}
```

<a name="NewWrk2APIServiceImpl"></a>
### func [NewWrk2APIServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L43>)

```go
func NewWrk2APIServiceImpl(ctx context.Context, userService UserService, composePostService ComposePostService, userTimelineService UserTimelineService, homeTimelineService HomeTimelineService, socialGraphService SocialGraphService) (Wrk2APIService, error)
```

Creates a [Wrk2APIService](<#Wrk2APIService>) instance to act as the gateway to internal services.

<a name="Wrk2APIServiceImpl"></a>
## type [Wrk2APIServiceImpl](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L34-L40>)

Implementation of [Wrk2APIService](<#Wrk2APIService>)

```go
type Wrk2APIServiceImpl struct {
    // contains filtered or unexported fields
}
```

<a name="Wrk2APIServiceImpl.ComposePost"></a>
### func \(\*Wrk2APIServiceImpl\) [ComposePost](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L92>)

```go
func (w *Wrk2APIServiceImpl) ComposePost(ctx context.Context, userId int64, username string, post_type int64, text string, media_types []string, media_ids []int64) (int64, []int64, error)
```

Implements Wrk2APIService interface

<a name="Wrk2APIServiceImpl.Follow"></a>
### func \(\*Wrk2APIServiceImpl\) [Follow](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L61>)

```go
func (w *Wrk2APIServiceImpl) Follow(ctx context.Context, username string, followeeName string, userId int64, followeeID int64) error
```

Implements Wrk2APIService interface

<a name="Wrk2APIServiceImpl.ReadHomeTimeline"></a>
### func \(\*Wrk2APIServiceImpl\) [ReadHomeTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L55>)

```go
func (w *Wrk2APIServiceImpl) ReadHomeTimeline(ctx context.Context, userId int64, start int64, stop int64) ([]int64, error)
```

Implements Wrk2APIService interface

<a name="Wrk2APIServiceImpl.ReadUserTimeline"></a>
### func \(\*Wrk2APIServiceImpl\) [ReadUserTimeline](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L49>)

```go
func (w *Wrk2APIServiceImpl) ReadUserTimeline(ctx context.Context, userId int64, start int64, stop int64) ([]int64, error)
```

Implements Wrk2APIService interface

<a name="Wrk2APIServiceImpl.Register"></a>
### func \(\*Wrk2APIServiceImpl\) [Register](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L83>)

```go
func (w *Wrk2APIServiceImpl) Register(ctx context.Context, firstName string, lastName string, username string, password string, userId int64) error
```

Implements Wrk2APIService interface

<a name="Wrk2APIServiceImpl.Unfollow"></a>
### func \(\*Wrk2APIServiceImpl\) [Unfollow](<https://github.com/blueprint-uservices/blueprint/blob/main/examples/dsb_sn/workflow/socialnetwork/Wrk2APIService.go#L72>)

```go
func (w *Wrk2APIServiceImpl) Unfollow(ctx context.Context, username string, followeeName string, userId int64, followeeID int64) error
```

Implements Wrk2APIService interface

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
