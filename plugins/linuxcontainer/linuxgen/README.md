<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# linuxgen

```go
import "gitlab.mpi-sws.org/cld/blueprint/plugins/linuxcontainer/linuxgen"
```

## Index

- [func ExecuteTemplate\(name string, body string, args any\) \(string, error\)](<#ExecuteTemplate>)
- [func ExecuteTemplateToFile\(name string, body string, args any, filename string\) error](<#ExecuteTemplateToFile>)
- [func GenerateRunFunc\(name string, runfunc string, deps ...blueprint.IRNode\) \(string, error\)](<#GenerateRunFunc>)
- [type BuildScript](<#BuildScript>)
  - [func NewBuildScript\(workspaceDir, fileName string\) \*BuildScript](<#NewBuildScript>)
  - [func \(d \*BuildScript\) Add\(filePath string\) error](<#BuildScript.Add>)
  - [func \(d \*BuildScript\) GenerateBuildScript\(\) error](<#BuildScript.GenerateBuildScript>)
- [type RunScript](<#RunScript>)
  - [func NewRunScript\(workspaceName, workspaceDir, fileName string\) \*RunScript](<#NewRunScript>)
  - [func \(run \*RunScript\) Add\(procName, runfunc string, deps ...blueprint.IRNode\)](<#RunScript.Add>)
  - [func \(run \*RunScript\) GenerateRunScript\(\) error](<#RunScript.GenerateRunScript>)
  - [func \(run \*RunScript\) Require\(node blueprint.IRNode\)](<#RunScript.Require>)


<a name="ExecuteTemplate"></a>
## func ExecuteTemplate

```go
func ExecuteTemplate(name string, body string, args any) (string, error)
```



<a name="ExecuteTemplateToFile"></a>
## func ExecuteTemplateToFile

```go
func ExecuteTemplateToFile(name string, body string, args any, filename string) error
```



<a name="GenerateRunFunc"></a>
## func GenerateRunFunc

```go
func GenerateRunFunc(name string, runfunc string, deps ...blueprint.IRNode) (string, error)
```



<a name="BuildScript"></a>
## type BuildScript



```go
type BuildScript struct {
    WorkspaceDir string
    FileName     string
    FilePath     string
    Scripts      map[string]*scriptInfo
}
```

<a name="NewBuildScript"></a>
### func NewBuildScript

```go
func NewBuildScript(workspaceDir, fileName string) *BuildScript
```

Creates a new build.sh that will invoke multiple build scripts of processes in subdirectories of the workspace

<a name="BuildScript.Add"></a>
### func \(\*BuildScript\) Add

```go
func (d *BuildScript) Add(filePath string) error
```

Adds a process's build script to the workspace's build.sh

filePath should be a fully qualified path to a build script that resides within a subdirectory of the workspace

Returns an error if the script resides outside of the workspace

<a name="BuildScript.GenerateBuildScript"></a>
### func \(\*BuildScript\) GenerateBuildScript

```go
func (d *BuildScript) GenerateBuildScript() error
```



<a name="RunScript"></a>
## type RunScript



```go
type RunScript struct {
    WorkspaceName string
    WorkspaceDir  string
    FileName      string
    FilePath      string
    RunFuncs      map[string]string           // Function bodies provided by processes
    AllNodes      map[string]blueprint.IRNode // All nodes seen by this run script
    Args          map[string]blueprint.IRNode // Arguments that will be set in calling the environment
}
```

<a name="NewRunScript"></a>
### func NewRunScript

```go
func NewRunScript(workspaceName, workspaceDir, fileName string) *RunScript
```

Creates a new run.sh that will check environment variables are set and invokes the run scripts of the processes within the workspace

<a name="RunScript.Add"></a>
### func \(\*RunScript\) Add

```go
func (run *RunScript) Add(procName, runfunc string, deps ...blueprint.IRNode)
```



<a name="RunScript.GenerateRunScript"></a>
### func \(\*RunScript\) GenerateRunScript

```go
func (run *RunScript) GenerateRunScript() error
```



<a name="RunScript.Require"></a>
### func \(\*RunScript\) Require

```go
func (run *RunScript) Require(node blueprint.IRNode)
```

Indicate that the specified node is required within this namespace; either it is built by its own runfunc, or it must be provided as argument.

We use this so that the generated run.sh knows which environment variables will be needed or used by the processes it runs.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
