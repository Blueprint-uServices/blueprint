<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# xtrace

```go
import "github.com/blueprint-uservices/blueprint/plugins/xtrace"
```

Package xtrace provides three plugins: \(i\) a plugin to generate and include an xtrace instance in a Blueprint application. \(ii\) provides a modifier plugin to wrap the service with an XTrace wrapper to generate XTrace compatible traces/logs. \(iii\) a plugin to define an xtrace\-based logger for a process.

The package provides a built\-in xtrace container that provides the server\-side implementation and a go\-client for connecting to the server.

Example Usage \(for complete xtrace instrumentation\):

import "github.com/blueprint\-uservices/blueprint/plugins/xtrace"

xtrace.DefineXTraceServerContainer\(spec, "xtrace\_server"\) // Defines and adds an xtrace server to the wiring spec

```
for _, service := range serviceNames {
  xtrace.Instrument(spec, service) // Instrument service with xtrace instrumentation
}
```

```
for _, proc := range processNames {
  logger = xtrace.DefineXTraceLogger(spec, proc) // Define an xtrace-logger for the process
  goproc.SetLogger(spec, proc, logger) // Set the default logger for the process
}
```

## Index

- [func DefineXTraceLogger\(spec wiring.WiringSpec, processName string\) string](<#DefineXTraceLogger>)
- [func DefineXTraceServerContainer\(spec wiring.WiringSpec, serverName string\) string](<#DefineXTraceServerContainer>)
- [func Instrument\(spec wiring.WiringSpec, serviceName string\)](<#Instrument>)
- [type XTraceClient](<#XTraceClient>)
  - [func \(node \*XTraceClient\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#XTraceClient.AddInstantiation>)
  - [func \(node \*XTraceClient\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#XTraceClient.AddInterfaces>)
  - [func \(node \*XTraceClient\) AddToWorkspace\(builder golang.WorkspaceBuilder\) error](<#XTraceClient.AddToWorkspace>)
  - [func \(node \*XTraceClient\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#XTraceClient.GetInterface>)
  - [func \(node \*XTraceClient\) ImplementsGolangNode\(\)](<#XTraceClient.ImplementsGolangNode>)
  - [func \(node \*XTraceClient\) Name\(\) string](<#XTraceClient.Name>)
  - [func \(node \*XTraceClient\) String\(\) string](<#XTraceClient.String>)
- [type XTraceInterface](<#XTraceInterface>)
  - [func \(xt \*XTraceInterface\) GetMethods\(\) \[\]service.Method](<#XTraceInterface.GetMethods>)
  - [func \(xt \*XTraceInterface\) GetName\(\) string](<#XTraceInterface.GetName>)
- [type XTraceLogger](<#XTraceLogger>)
  - [func \(node \*XTraceLogger\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#XTraceLogger.AddInstantiation>)
  - [func \(node \*XTraceLogger\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#XTraceLogger.AddInterfaces>)
  - [func \(node \*XTraceLogger\) AddToWorkspace\(builder golang.WorkspaceBuilder\) error](<#XTraceLogger.AddToWorkspace>)
  - [func \(node \*XTraceLogger\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#XTraceLogger.GetInterface>)
  - [func \(node \*XTraceLogger\) ImplementsGolangNode\(\)](<#XTraceLogger.ImplementsGolangNode>)
  - [func \(node \*XTraceLogger\) Name\(\) string](<#XTraceLogger.Name>)
  - [func \(node \*XTraceLogger\) String\(\) string](<#XTraceLogger.String>)
- [type XTraceServerContainer](<#XTraceServerContainer>)
  - [func \(node \*XTraceServerContainer\) AddContainerArtifacts\(target docker.ContainerWorkspace\) error](<#XTraceServerContainer.AddContainerArtifacts>)
  - [func \(node \*XTraceServerContainer\) AddContainerInstance\(target docker.ContainerWorkspace\) error](<#XTraceServerContainer.AddContainerInstance>)
  - [func \(node \*XTraceServerContainer\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#XTraceServerContainer.GetInterface>)
  - [func \(node \*XTraceServerContainer\) Name\(\) string](<#XTraceServerContainer.Name>)
  - [func \(node \*XTraceServerContainer\) String\(\) string](<#XTraceServerContainer.String>)
- [type XtraceClientWrapper](<#XtraceClientWrapper>)
  - [func \(node \*XtraceClientWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#XtraceClientWrapper.AddInstantiation>)
  - [func \(node \*XtraceClientWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#XtraceClientWrapper.AddInterfaces>)
  - [func \(node \*XtraceClientWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#XtraceClientWrapper.GenerateFuncs>)
  - [func \(node \*XtraceClientWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#XtraceClientWrapper.GetInterface>)
  - [func \(node \*XtraceClientWrapper\) ImplementsGolangNode\(\)](<#XtraceClientWrapper.ImplementsGolangNode>)
  - [func \(node \*XtraceClientWrapper\) ImplementsGolangService\(\)](<#XtraceClientWrapper.ImplementsGolangService>)
  - [func \(node \*XtraceClientWrapper\) Name\(\) string](<#XtraceClientWrapper.Name>)
  - [func \(node \*XtraceClientWrapper\) String\(\) string](<#XtraceClientWrapper.String>)
- [type XtraceServerWrapper](<#XtraceServerWrapper>)
  - [func \(node \*XtraceServerWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#XtraceServerWrapper.AddInstantiation>)
  - [func \(node \*XtraceServerWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#XtraceServerWrapper.AddInterfaces>)
  - [func \(node \*XtraceServerWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#XtraceServerWrapper.GenerateFuncs>)
  - [func \(node \*XtraceServerWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#XtraceServerWrapper.GetInterface>)
  - [func \(node \*XtraceServerWrapper\) ImplementsGolangNode\(\)](<#XtraceServerWrapper.ImplementsGolangNode>)
  - [func \(node \*XtraceServerWrapper\) ImplementsGolangService\(\)](<#XtraceServerWrapper.ImplementsGolangService>)
  - [func \(node \*XtraceServerWrapper\) Name\(\) string](<#XtraceServerWrapper.Name>)
  - [func \(node \*XtraceServerWrapper\) String\(\) string](<#XtraceServerWrapper.String>)


<a name="DefineXTraceLogger"></a>
## func [DefineXTraceLogger](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/wiring.go#L142>)

```go
func DefineXTraceLogger(spec wiring.WiringSpec, processName string) string
```

Adds an xtrace\-based logger to the process with name \`processName\`. Returns the name of the logger instantiated. Note: Requires that the XTraceServerContainer has been defined for it to correctly compile Note: Any service in the process must also be instrumented with \`Instrument\` to get log statements associated with a given xtrace task. Usage:

```
import "github.com/blueprint-uservices/blueprint/plugins/xtrace"
import "github.com/blueprint-uservices/blueprint/plugins/goproc"
logger = xtrace.DefineXTraceLogger(spec, "my_process") // Define an xtrace-logger for the process `my_process`
goproc.SetLogger(spec, "my_process", logger) // Set the default logger for the process
```

<a name="DefineXTraceServerContainer"></a>
## func [DefineXTraceServerContainer](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/wiring.go#L92>)

```go
func DefineXTraceServerContainer(spec wiring.WiringSpec, serverName string) string
```

Adds an xtrace docker container that uses the latest xtrace image to the application along with the default client needed by the generated application to communicate with the server.

The generated container has the name \`serviceName\`. Usage:

```
import "github.com/blueprint-uservices/blueprint/plugins/xtrace"
xtrace.DefineXTraceServerContainer(spec, "xtrace_server")
```

<a name="Instrument"></a>
## func [Instrument](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/wiring.go#L41>)

```go
func Instrument(spec wiring.WiringSpec, serviceName string)
```

Instruments the client and server side of the service with name \`serviceName\` to add xtrace context propagation. Usage:

```
import "github.com/blueprint-uservices/blueprint/plugins/xtrace"
	xtrace.Instrument(spec, "serviceA")
```

<a name="XTraceClient"></a>
## type [XTraceClient](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L17-L27>)

Blueprint IR Node that represents a client to the Xtrace container

```go
type XTraceClient struct {
    golang.Node
    golang.Instantiable

    ClientName     string
    ServerDialAddr *address.DialConfig

    InstanceName string
    Iface        *goparser.ParsedInterface
    Constructor  *gocode.Constructor
}
```

<a name="XTraceClient.AddInstantiation"></a>
### func \(\*XTraceClient\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L67>)

```go
func (node *XTraceClient) AddInstantiation(builder golang.NamespaceBuilder) error
```



<a name="XTraceClient.AddInterfaces"></a>
### func \(\*XTraceClient\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L81>)

```go
func (node *XTraceClient) AddInterfaces(builder golang.ModuleBuilder) error
```



<a name="XTraceClient.AddToWorkspace"></a>
### func \(\*XTraceClient\) [AddToWorkspace](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L77>)

```go
func (node *XTraceClient) AddToWorkspace(builder golang.WorkspaceBuilder) error
```



<a name="XTraceClient.GetInterface"></a>
### func \(\*XTraceClient\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L85>)

```go
func (node *XTraceClient) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="XTraceClient.ImplementsGolangNode"></a>
### func \(\*XTraceClient\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L89>)

```go
func (node *XTraceClient) ImplementsGolangNode()
```



<a name="XTraceClient.Name"></a>
### func \(\*XTraceClient\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L40>)

```go
func (node *XTraceClient) Name() string
```



<a name="XTraceClient.String"></a>
### func \(\*XTraceClient\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client.go#L44>)

```go
func (node *XTraceClient) String() string
```



<a name="XTraceInterface"></a>
## type [XTraceInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L22-L25>)

The interface exposed by the XTrace server.

```go
type XTraceInterface struct {
    service.ServiceInterface
    Wrapped service.ServiceInterface
}
```

<a name="XTraceInterface.GetMethods"></a>
### func \(\*XTraceInterface\) [GetMethods](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L31>)

```go
func (xt *XTraceInterface) GetMethods() []service.Method
```



<a name="XTraceInterface.GetName"></a>
### func \(\*XTraceInterface\) [GetName](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L27>)

```go
func (xt *XTraceInterface) GetName() string
```



<a name="XTraceLogger"></a>
## type [XTraceLogger](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L17-L26>)

Blueprint IR Node that represents a process\-level xtrace logger

```go
type XTraceLogger struct {
    golang.Node
    golang.Instantiable

    ServerDialAddr *address.DialConfig

    LoggerName  string
    Iface       *goparser.ParsedInterface
    Constructor *gocode.Constructor
}
```

<a name="XTraceLogger.AddInstantiation"></a>
### func \(\*XTraceLogger\) [AddInstantiation](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L76>)

```go
func (node *XTraceLogger) AddInstantiation(builder golang.NamespaceBuilder) error
```



<a name="XTraceLogger.AddInterfaces"></a>
### func \(\*XTraceLogger\) [AddInterfaces](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L68>)

```go
func (node *XTraceLogger) AddInterfaces(builder golang.ModuleBuilder) error
```



<a name="XTraceLogger.AddToWorkspace"></a>
### func \(\*XTraceLogger\) [AddToWorkspace](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L64>)

```go
func (node *XTraceLogger) AddToWorkspace(builder golang.WorkspaceBuilder) error
```



<a name="XTraceLogger.GetInterface"></a>
### func \(\*XTraceLogger\) [GetInterface](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L72>)

```go
func (node *XTraceLogger) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="XTraceLogger.ImplementsGolangNode"></a>
### func \(\*XTraceLogger\) [ImplementsGolangNode](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L86>)

```go
func (node *XTraceLogger) ImplementsGolangNode()
```



<a name="XTraceLogger.Name"></a>
### func \(\*XTraceLogger\) [Name](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L56>)

```go
func (node *XTraceLogger) Name() string
```



<a name="XTraceLogger.String"></a>
### func \(\*XTraceLogger\) [String](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/xtrace/ir_xtrace_logger.go#L60>)

```go
func (node *XTraceLogger) String() string
```



<a name="XTraceServerContainer"></a>
## type [XTraceServerContainer](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L13-L19>)

Blueprint IR Node that represents the Xtrace container

```go
type XTraceServerContainer struct {
    docker.Container

    ServerName string
    BindAddr   *address.BindConfig
    Iface      *goparser.ParsedInterface
}
```

<a name="XTraceServerContainer.AddContainerArtifacts"></a>
### func \(\*XTraceServerContainer\) [AddContainerArtifacts](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L76>)

```go
func (node *XTraceServerContainer) AddContainerArtifacts(target docker.ContainerWorkspace) error
```



<a name="XTraceServerContainer.AddContainerInstance"></a>
### func \(\*XTraceServerContainer\) [AddContainerInstance](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L80>)

```go
func (node *XTraceServerContainer) AddContainerInstance(target docker.ContainerWorkspace) error
```



<a name="XTraceServerContainer.GetInterface"></a>
### func \(\*XTraceServerContainer\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L71>)

```go
func (node *XTraceServerContainer) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="XTraceServerContainer.Name"></a>
### func \(\*XTraceServerContainer\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L63>)

```go
func (node *XTraceServerContainer) Name() string
```



<a name="XTraceServerContainer.String"></a>
### func \(\*XTraceServerContainer\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server.go#L67>)

```go
func (node *XTraceServerContainer) String() string
```



<a name="XtraceClientWrapper"></a>
## type [XtraceClientWrapper](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L18-L27>)

Blueprint IR Node that wraps the client\-side of a service to generate xtrace compatible logs

```go
type XtraceClientWrapper struct {
    golang.Service
    golang.Instantiable
    golang.GeneratesFuncs

    InstanceName string

    Wrapped  golang.Service
    XTClient *XTraceClient
    // contains filtered or unexported fields
}
```

<a name="XtraceClientWrapper.AddInstantiation"></a>
### func \(\*XtraceClientWrapper\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L77>)

```go
func (node *XtraceClientWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```



<a name="XtraceClientWrapper.AddInterfaces"></a>
### func \(\*XtraceClientWrapper\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L130>)

```go
func (node *XtraceClientWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```



<a name="XtraceClientWrapper.GenerateFuncs"></a>
### func \(\*XtraceClientWrapper\) [GenerateFuncs](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L107>)

```go
func (node *XtraceClientWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```



<a name="XtraceClientWrapper.GetInterface"></a>
### func \(\*XtraceClientWrapper\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L126>)

```go
func (node *XtraceClientWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="XtraceClientWrapper.ImplementsGolangNode"></a>
### func \(\*XtraceClientWrapper\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L37>)

```go
func (node *XtraceClientWrapper) ImplementsGolangNode()
```



<a name="XtraceClientWrapper.ImplementsGolangService"></a>
### func \(\*XtraceClientWrapper\) [ImplementsGolangService](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L38>)

```go
func (node *XtraceClientWrapper) ImplementsGolangService()
```



<a name="XtraceClientWrapper.Name"></a>
### func \(\*XtraceClientWrapper\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L29>)

```go
func (node *XtraceClientWrapper) Name() string
```



<a name="XtraceClientWrapper.String"></a>
### func \(\*XtraceClientWrapper\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_client_wrapper.go#L33>)

```go
func (node *XtraceClientWrapper) String() string
```



<a name="XtraceServerWrapper"></a>
## type [XtraceServerWrapper](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L18-L27>)

Blueprint IR Node that wraps the server\-side of a service to generate xtrace compatible logs

```go
type XtraceServerWrapper struct {
    golang.Service
    golang.Instantiable
    golang.GeneratesFuncs

    InstanceName string

    Wrapped  golang.Service
    XTClient *XTraceClient
    // contains filtered or unexported fields
}
```

<a name="XtraceServerWrapper.AddInstantiation"></a>
### func \(\*XtraceServerWrapper\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L77>)

```go
func (node *XtraceServerWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```



<a name="XtraceServerWrapper.AddInterfaces"></a>
### func \(\*XtraceServerWrapper\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L130>)

```go
func (node *XtraceServerWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```



<a name="XtraceServerWrapper.GenerateFuncs"></a>
### func \(\*XtraceServerWrapper\) [GenerateFuncs](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L107>)

```go
func (node *XtraceServerWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```



<a name="XtraceServerWrapper.GetInterface"></a>
### func \(\*XtraceServerWrapper\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L126>)

```go
func (node *XtraceServerWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="XtraceServerWrapper.ImplementsGolangNode"></a>
### func \(\*XtraceServerWrapper\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L37>)

```go
func (node *XtraceServerWrapper) ImplementsGolangNode()
```



<a name="XtraceServerWrapper.ImplementsGolangService"></a>
### func \(\*XtraceServerWrapper\) [ImplementsGolangService](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L38>)

```go
func (node *XtraceServerWrapper) ImplementsGolangService()
```



<a name="XtraceServerWrapper.Name"></a>
### func \(\*XtraceServerWrapper\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L29>)

```go
func (node *XtraceServerWrapper) Name() string
```



<a name="XtraceServerWrapper.String"></a>
### func \(\*XtraceServerWrapper\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/xtrace/ir_xtrace_server_wrapper.go#L33>)

```go
func (node *XtraceServerWrapper) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
