<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# gotests

```go
import "gitlab.mpi-sws.org/cld/blueprint/plugins/gotests"
```

Package gotests provides a plugin for automatically converting black\-box workflow spec unit tests into tests that can run against a compiled Blueprint system.

To use the gotests plugin in a wiring spec, call gotests.[Test](<#Test>) and specify the services to test. During compilation the plugin will search for compatible black\-box tests, modify them, and include the modified tests in the compiled output.

Tests are only compatible if they meet the following requirements:

- tests are contained in a separate module from the workflow spec
- tests use the [registry.ServiceRegistry](<https://github.com/Blueprint-uServices/blueprint/tree/main/runtime/core/registry>) to acquire service clients

To run the generated tests:

1. start the compiled application
2. navigate to the 'tests' directory in the compiled output
3. run \`go test\` passing any required command\-line arguments such as addresses

A test can potentially leave state within the application; running the test twice in succession may result in a failure the second time since the application is not in a clean state.

See [Workflow Tests](<https://github.com/Blueprint-uServices/blueprint/tree/main/docs/manual/workflow_tests.md>) for more information on writing workflow tests.

## Index

- [func Test\(spec wiring.WiringSpec, servicesToTest ...string\) string](<#Test>)


<a name="Test"></a>
## func Test

```go
func Test(spec wiring.WiringSpec, servicesToTest ...string) string
```

A wiring spec function to convert black\-box unit tests into tests that can run against the compiled application.

Searches all wiring spec directories for package\-level variables initialized by [registry.NewServiceRegistry](<https://github.com/Blueprint-uServices/blueprint/tree/main/runtime/core/registry>). Modifies and outputs matching tests.

The gotests plugin will produce an output golang workspace called "tests" that will include modified versions of the source unit tests.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
