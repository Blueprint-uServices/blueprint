<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# opentelemetry

```go
import "github.com/blueprint-uservices/blueprint/plugins/opentelemetry"
```

Package opentelemetry provides two plugins: \(i\) a plugin to generate and include an opentelemetry collector instance in a Blueprint application \(ii\) provides a modifier plugin to wrap the service with an OpenTelemetry wrapper to generate OT compatible traces/logs.

The package provides an in\-memory trace exporter implementation and a go\-client for generating traces on both the server and client side. The generated clients handle context propagation correctly on both the server and client sides.

The applications must use a backend.Tracer \(runtime/core/backend\) as the interface in the workflow.

## Index

- [func Instrument\(spec wiring.WiringSpec, serviceName string, collectorName string\)](<#Instrument>)
- [type OpenTelemetryClientWrapper](<#OpenTelemetryClientWrapper>)
  - [func \(node \*OpenTelemetryClientWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#OpenTelemetryClientWrapper.AddInstantiation>)
  - [func \(node \*OpenTelemetryClientWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#OpenTelemetryClientWrapper.AddInterfaces>)
  - [func \(node \*OpenTelemetryClientWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#OpenTelemetryClientWrapper.GenerateFuncs>)
  - [func \(node \*OpenTelemetryClientWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OpenTelemetryClientWrapper.GetInterface>)
  - [func \(node \*OpenTelemetryClientWrapper\) ImplementsGolangNode\(\)](<#OpenTelemetryClientWrapper.ImplementsGolangNode>)
  - [func \(node \*OpenTelemetryClientWrapper\) ImplementsGolangService\(\)](<#OpenTelemetryClientWrapper.ImplementsGolangService>)
  - [func \(node \*OpenTelemetryClientWrapper\) Name\(\) string](<#OpenTelemetryClientWrapper.Name>)
  - [func \(node \*OpenTelemetryClientWrapper\) String\(\) string](<#OpenTelemetryClientWrapper.String>)
- [type OpenTelemetryCollectorInterface](<#OpenTelemetryCollectorInterface>)
- [type OpenTelemetryServerWrapper](<#OpenTelemetryServerWrapper>)
  - [func \(node \*OpenTelemetryServerWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#OpenTelemetryServerWrapper.AddInstantiation>)
  - [func \(node \*OpenTelemetryServerWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#OpenTelemetryServerWrapper.AddInterfaces>)
  - [func \(node \*OpenTelemetryServerWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#OpenTelemetryServerWrapper.GenerateFuncs>)
  - [func \(node \*OpenTelemetryServerWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OpenTelemetryServerWrapper.GetInterface>)
  - [func \(node \*OpenTelemetryServerWrapper\) ImplementsGolangNode\(\)](<#OpenTelemetryServerWrapper.ImplementsGolangNode>)
  - [func \(node \*OpenTelemetryServerWrapper\) ImplementsGolangService\(\)](<#OpenTelemetryServerWrapper.ImplementsGolangService>)
  - [func \(node \*OpenTelemetryServerWrapper\) Name\(\) string](<#OpenTelemetryServerWrapper.Name>)
  - [func \(node \*OpenTelemetryServerWrapper\) String\(\) string](<#OpenTelemetryServerWrapper.String>)


<a name="Instrument"></a>
## func [Instrument](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/wiring.go#L23>)

```go
func Instrument(spec wiring.WiringSpec, serviceName string, collectorName string)
```

Instruments \`serviceName\` with OpenTelemetry. This can only be done if \`serviceName\` is a service declared in the wiring spec using \[workflow.Define\]

This call will configure the generated clients on server and client side to use the exporter provided by the custom collector indicated by the \`collectorName\`. The \`collectorName\` must be declared in the wiring spec.

<a name="OTTraceLogger"></a>
## type [OTTraceLogger](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L16-L23>)

Blueprint IR Node that represents a process\-level OT trace logger

```go
type OTTraceLogger struct {
    golang.Node
    golang.Instantiable

    LoggerName  string
    Iface       *goparser.ParsedInterface
    Constructor *gocode.Constructor
}
```

<a name="OTTraceLogger.AddInstantiation"></a>
### func \(\*OTTraceLogger\) [AddInstantiation](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L72>)

```go
func (node *OTTraceLogger) AddInstantiation(builder golang.NamespaceBuilder) error
```



<a name="OTTraceLogger.AddInterfaces"></a>
### func \(\*OTTraceLogger\) [AddInterfaces](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L64>)

```go
func (node *OTTraceLogger) AddInterfaces(builder golang.ModuleBuilder) error
```



<a name="OTTraceLogger.AddToWorkspace"></a>
### func \(\*OTTraceLogger\) [AddToWorkspace](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L60>)

```go
func (node *OTTraceLogger) AddToWorkspace(builder golang.WorkspaceBuilder) error
```



<a name="OTTraceLogger.GetInterface"></a>
### func \(\*OTTraceLogger\) [GetInterface](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L68>)

```go
func (node *OTTraceLogger) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="OTTraceLogger.ImplementsGolangNode"></a>
### func \(\*OTTraceLogger\) [ImplementsGolangNode](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L82>)

```go
func (node *OTTraceLogger) ImplementsGolangNode()
```



<a name="OTTraceLogger.Name"></a>
### func \(\*OTTraceLogger\) [Name](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L52>)

```go
func (node *OTTraceLogger) Name() string
```



<a name="OTTraceLogger.String"></a>
### func \(\*OTTraceLogger\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/opentelemetry/ir_ot_logger.go#L56>)

```go
func (node *OTTraceLogger) String() string
```



<a name="OpenTelemetryClientWrapper"></a>
## type [OpenTelemetryClientWrapper](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L17-L25>)

Blueprint IR Node that wraps the client\-side of a service to generate ot compatible logs

```go
type OpenTelemetryClientWrapper struct {
    golang.Service
    golang.GeneratesFuncs

    WrapperName string

    Wrapped   golang.Service
    Collector OpenTelemetryCollectorInterface
    // contains filtered or unexported fields
}
```

<a name="OpenTelemetryClientWrapper.AddInstantiation"></a>
### func \(\*OpenTelemetryClientWrapper\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L97>)

```go
func (node *OpenTelemetryClientWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```

Part of code generation compilation pass; provides instantiation snippet

<a name="OpenTelemetryClientWrapper.AddInterfaces"></a>
### func \(\*OpenTelemetryClientWrapper\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L67>)

```go
func (node *OpenTelemetryClientWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; creates the interface definition code for the wrapper, and any new generated structs that are exposed and can be used by other IRNodes

<a name="OpenTelemetryClientWrapper.GenerateFuncs"></a>
### func \(\*OpenTelemetryClientWrapper\) [GenerateFuncs](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L72>)

```go
func (node *OpenTelemetryClientWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; provides implementation of interfaces from GenerateInterfaces

<a name="OpenTelemetryClientWrapper.GetInterface"></a>
### func \(\*OpenTelemetryClientWrapper\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L61>)

```go
func (node *OpenTelemetryClientWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="OpenTelemetryClientWrapper.ImplementsGolangNode"></a>
### func \(\*OpenTelemetryClientWrapper\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L128>)

```go
func (node *OpenTelemetryClientWrapper) ImplementsGolangNode()
```



<a name="OpenTelemetryClientWrapper.ImplementsGolangService"></a>
### func \(\*OpenTelemetryClientWrapper\) [ImplementsGolangService](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L129>)

```go
func (node *OpenTelemetryClientWrapper) ImplementsGolangService()
```



<a name="OpenTelemetryClientWrapper.Name"></a>
### func \(\*OpenTelemetryClientWrapper\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L36>)

```go
func (node *OpenTelemetryClientWrapper) Name() string
```



<a name="OpenTelemetryClientWrapper.String"></a>
### func \(\*OpenTelemetryClientWrapper\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_client.go#L40>)

```go
func (node *OpenTelemetryClientWrapper) String() string
```



<a name="OpenTelemetryCollectorInterface"></a>
## type [OpenTelemetryCollectorInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_collector_client.go#L9-L13>)

Interface that indicates if an IRNode implements the OTCollector interface All custom collector clients \*\*must\*\* implement this interface

```go
type OpenTelemetryCollectorInterface interface {
    golang.Node
    golang.Instantiable
    ImplementsOTCollectorClient()
}
```

<a name="OpenTelemetryServerWrapper"></a>
## type [OpenTelemetryServerWrapper](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L18-L27>)

Blueprint IR Node that wraps the server\-side of a service to generate ot compatible logs

```go
type OpenTelemetryServerWrapper struct {
    golang.Service
    golang.Instantiable
    golang.GeneratesFuncs

    WrapperName string

    Wrapped   golang.Service
    Collector OpenTelemetryCollectorInterface
    // contains filtered or unexported fields
}
```

<a name="OpenTelemetryServerWrapper.AddInstantiation"></a>
### func \(\*OpenTelemetryServerWrapper\) [AddInstantiation](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L127>)

```go
func (node *OpenTelemetryServerWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```

Part of code generation compilation pass; provides instantiation snippet

<a name="OpenTelemetryServerWrapper.AddInterfaces"></a>
### func \(\*OpenTelemetryServerWrapper\) [AddInterfaces](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L82>)

```go
func (node *OpenTelemetryServerWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; creates the interface definition code for the wrapper, and any new generated structs that are exposed and can be used by other IRNodes

<a name="OpenTelemetryServerWrapper.GenerateFuncs"></a>
### func \(\*OpenTelemetryServerWrapper\) [GenerateFuncs](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L102>)

```go
func (node *OpenTelemetryServerWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; provides implementation of interfaces from GenerateInterfaces

<a name="OpenTelemetryServerWrapper.GetInterface"></a>
### func \(\*OpenTelemetryServerWrapper\) [GetInterface](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L73>)

```go
func (node *OpenTelemetryServerWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="OpenTelemetryServerWrapper.ImplementsGolangNode"></a>
### func \(\*OpenTelemetryServerWrapper\) [ImplementsGolangNode](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L77>)

```go
func (node *OpenTelemetryServerWrapper) ImplementsGolangNode()
```



<a name="OpenTelemetryServerWrapper.ImplementsGolangService"></a>
### func \(\*OpenTelemetryServerWrapper\) [ImplementsGolangService](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L78>)

```go
func (node *OpenTelemetryServerWrapper) ImplementsGolangService()
```



<a name="OpenTelemetryServerWrapper.Name"></a>
### func \(\*OpenTelemetryServerWrapper\) [Name](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L48>)

```go
func (node *OpenTelemetryServerWrapper) Name() string
```



<a name="OpenTelemetryServerWrapper.String"></a>
### func \(\*OpenTelemetryServerWrapper\) [String](<https://github.com/blueprint-uservices/blueprint/blob/main/plugins/opentelemetry/ir_ot_server.go#L52>)

```go
func (node *OpenTelemetryServerWrapper) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
