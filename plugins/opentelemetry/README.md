<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# opentelemetry

```go
import "gitlab.mpi-sws.org/cld/blueprint/plugins/opentelemetry"
```

Package opentelemetry provides two plugins: \(i\) a plugin to generate and include an opentelemetry collector instance in a Blueprint application \(ii\) provides a modifier plugin to wrap the service with an OpenTelemetry wrapper to generate OT compatible traces/logs.

The package provides an in\-memory trace exporter implementation and a go\-client for generating traces on both the server and client side. The generated clients handle context propagation correctly on both the server and client sides.

The applications must use a backend.Tracer \(runtime/core/backend\) as the interface in the workflow.

## Index

- [func InstrumentUsingCustomCollector\(spec wiring.WiringSpec, serviceName string, collectorName string\)](<#InstrumentUsingCustomCollector>)
- [type OpenTelemetryClientWrapper](<#OpenTelemetryClientWrapper>)
  - [func \(node \*OpenTelemetryClientWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#OpenTelemetryClientWrapper.AddInstantiation>)
  - [func \(node \*OpenTelemetryClientWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#OpenTelemetryClientWrapper.AddInterfaces>)
  - [func \(node \*OpenTelemetryClientWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#OpenTelemetryClientWrapper.GenerateFuncs>)
  - [func \(node \*OpenTelemetryClientWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OpenTelemetryClientWrapper.GetInterface>)
  - [func \(node \*OpenTelemetryClientWrapper\) ImplementsGolangNode\(\)](<#OpenTelemetryClientWrapper.ImplementsGolangNode>)
  - [func \(node \*OpenTelemetryClientWrapper\) ImplementsGolangService\(\)](<#OpenTelemetryClientWrapper.ImplementsGolangService>)
  - [func \(node \*OpenTelemetryClientWrapper\) Name\(\) string](<#OpenTelemetryClientWrapper.Name>)
  - [func \(node \*OpenTelemetryClientWrapper\) String\(\) string](<#OpenTelemetryClientWrapper.String>)
- [type OpenTelemetryCollectorInterface](<#OpenTelemetryCollectorInterface>)
- [type OpenTelemetryServerWrapper](<#OpenTelemetryServerWrapper>)
  - [func \(node \*OpenTelemetryServerWrapper\) AddInstantiation\(builder golang.NamespaceBuilder\) error](<#OpenTelemetryServerWrapper.AddInstantiation>)
  - [func \(node \*OpenTelemetryServerWrapper\) AddInterfaces\(builder golang.ModuleBuilder\) error](<#OpenTelemetryServerWrapper.AddInterfaces>)
  - [func \(node \*OpenTelemetryServerWrapper\) GenerateFuncs\(builder golang.ModuleBuilder\) error](<#OpenTelemetryServerWrapper.GenerateFuncs>)
  - [func \(node \*OpenTelemetryServerWrapper\) GetInterface\(ctx ir.BuildContext\) \(service.ServiceInterface, error\)](<#OpenTelemetryServerWrapper.GetInterface>)
  - [func \(node \*OpenTelemetryServerWrapper\) ImplementsGolangNode\(\)](<#OpenTelemetryServerWrapper.ImplementsGolangNode>)
  - [func \(node \*OpenTelemetryServerWrapper\) ImplementsGolangService\(\)](<#OpenTelemetryServerWrapper.ImplementsGolangService>)
  - [func \(node \*OpenTelemetryServerWrapper\) Name\(\) string](<#OpenTelemetryServerWrapper.Name>)
  - [func \(node \*OpenTelemetryServerWrapper\) String\(\) string](<#OpenTelemetryServerWrapper.String>)


<a name="InstrumentUsingCustomCollector"></a>
## func InstrumentUsingCustomCollector

```go
func InstrumentUsingCustomCollector(spec wiring.WiringSpec, serviceName string, collectorName string)
```

Instruments \`serviceName\` with OpenTelemetry. This can only be done if \`serviceName\` is a service declared in the wiring spec using \[workflow.Define\]

This call will configure the generated clients on server and client side to use the exporter provided by the custom collector indicated by the \`collectorName\`. The \`collectorName\` must be declared in the wiring spec.

<a name="OpenTelemetryClientWrapper"></a>
## type OpenTelemetryClientWrapper

Blueprint IR Node that wraps the client\-side of a service to generate ot compatible logs

```go
type OpenTelemetryClientWrapper struct {
    golang.Service
    golang.GeneratesFuncs

    WrapperName string

    Wrapped   golang.Service
    Collector OpenTelemetryCollectorInterface
    // contains filtered or unexported fields
}
```

<a name="OpenTelemetryClientWrapper.AddInstantiation"></a>
### func \(\*OpenTelemetryClientWrapper\) AddInstantiation

```go
func (node *OpenTelemetryClientWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```

Part of code generation compilation pass; provides instantiation snippet

<a name="OpenTelemetryClientWrapper.AddInterfaces"></a>
### func \(\*OpenTelemetryClientWrapper\) AddInterfaces

```go
func (node *OpenTelemetryClientWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; creates the interface definition code for the wrapper, and any new generated structs that are exposed and can be used by other IRNodes

<a name="OpenTelemetryClientWrapper.GenerateFuncs"></a>
### func \(\*OpenTelemetryClientWrapper\) GenerateFuncs

```go
func (node *OpenTelemetryClientWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; provides implementation of interfaces from GenerateInterfaces

<a name="OpenTelemetryClientWrapper.GetInterface"></a>
### func \(\*OpenTelemetryClientWrapper\) GetInterface

```go
func (node *OpenTelemetryClientWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="OpenTelemetryClientWrapper.ImplementsGolangNode"></a>
### func \(\*OpenTelemetryClientWrapper\) ImplementsGolangNode

```go
func (node *OpenTelemetryClientWrapper) ImplementsGolangNode()
```



<a name="OpenTelemetryClientWrapper.ImplementsGolangService"></a>
### func \(\*OpenTelemetryClientWrapper\) ImplementsGolangService

```go
func (node *OpenTelemetryClientWrapper) ImplementsGolangService()
```



<a name="OpenTelemetryClientWrapper.Name"></a>
### func \(\*OpenTelemetryClientWrapper\) Name

```go
func (node *OpenTelemetryClientWrapper) Name() string
```



<a name="OpenTelemetryClientWrapper.String"></a>
### func \(\*OpenTelemetryClientWrapper\) String

```go
func (node *OpenTelemetryClientWrapper) String() string
```



<a name="OpenTelemetryCollectorInterface"></a>
## type OpenTelemetryCollectorInterface

Interface that indicates if an IRNode implements the OTCollector interface All custom collector clients \*\*must\*\* implement this interface

```go
type OpenTelemetryCollectorInterface interface {
    golang.Node
    golang.Instantiable
    ImplementsOTCollectorClient()
}
```

<a name="OpenTelemetryServerWrapper"></a>
## type OpenTelemetryServerWrapper

Blueprint IR Node that wraps the server\-side of a service to generate ot compatible logs

```go
type OpenTelemetryServerWrapper struct {
    golang.Service
    golang.Instantiable
    golang.GeneratesFuncs

    WrapperName string

    Wrapped   golang.Service
    Collector OpenTelemetryCollectorInterface
    // contains filtered or unexported fields
}
```

<a name="OpenTelemetryServerWrapper.AddInstantiation"></a>
### func \(\*OpenTelemetryServerWrapper\) AddInstantiation

```go
func (node *OpenTelemetryServerWrapper) AddInstantiation(builder golang.NamespaceBuilder) error
```

Part of code generation compilation pass; provides instantiation snippet

<a name="OpenTelemetryServerWrapper.AddInterfaces"></a>
### func \(\*OpenTelemetryServerWrapper\) AddInterfaces

```go
func (node *OpenTelemetryServerWrapper) AddInterfaces(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; creates the interface definition code for the wrapper, and any new generated structs that are exposed and can be used by other IRNodes

<a name="OpenTelemetryServerWrapper.GenerateFuncs"></a>
### func \(\*OpenTelemetryServerWrapper\) GenerateFuncs

```go
func (node *OpenTelemetryServerWrapper) GenerateFuncs(builder golang.ModuleBuilder) error
```

Part of code generation compilation pass; provides implementation of interfaces from GenerateInterfaces

<a name="OpenTelemetryServerWrapper.GetInterface"></a>
### func \(\*OpenTelemetryServerWrapper\) GetInterface

```go
func (node *OpenTelemetryServerWrapper) GetInterface(ctx ir.BuildContext) (service.ServiceInterface, error)
```



<a name="OpenTelemetryServerWrapper.ImplementsGolangNode"></a>
### func \(\*OpenTelemetryServerWrapper\) ImplementsGolangNode

```go
func (node *OpenTelemetryServerWrapper) ImplementsGolangNode()
```



<a name="OpenTelemetryServerWrapper.ImplementsGolangService"></a>
### func \(\*OpenTelemetryServerWrapper\) ImplementsGolangService

```go
func (node *OpenTelemetryServerWrapper) ImplementsGolangService()
```



<a name="OpenTelemetryServerWrapper.Name"></a>
### func \(\*OpenTelemetryServerWrapper\) Name

```go
func (node *OpenTelemetryServerWrapper) Name() string
```



<a name="OpenTelemetryServerWrapper.String"></a>
### func \(\*OpenTelemetryServerWrapper\) String

```go
func (node *OpenTelemetryServerWrapper) String() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
