<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# workflow

```go
import "github.com/blueprint-uservices/blueprint/plugins/workflow"
```

Package workflow implements the wiring bindings for including services defined in workflow specification.

## Index

- [func Init\(srcModulePaths ...string\)](<#Init>)
- [func Reset\(\)](<#Reset>)
- [func Service\(spec wiring.WiringSpec, serviceName, serviceType string, serviceArgs ...string\) string](<#Service>)
- [type WorkflowSpec](<#WorkflowSpec>)
  - [func GetSpec\(\) \(\*WorkflowSpec, error\)](<#GetSpec>)
  - [func NewWorkflowSpec\(srcModuleDirs ...string\) \(\*WorkflowSpec, error\)](<#NewWorkflowSpec>)
  - [func \(spec \*WorkflowSpec\) Get\(name string\) \(\*WorkflowSpecService, error\)](<#WorkflowSpec.Get>)
- [type WorkflowSpecService](<#WorkflowSpecService>)


<a name="Init"></a>
## func [Init](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/wiring.go#L30>)

```go
func Init(srcModulePaths ...string)
```

The Golang workflow plugin must be initialized in the wiring spec with the location of the workflow spec modules.

Workflow specs can be included from more than one source module.

The provided paths should be to the root of a go module \(containing a go.mod file\). The arguments are assumed to be \*\*relative\*\* to the calling file.

This can be called more than once, which will concatenate all provided srcModulePaths

<a name="Reset"></a>
## func [Reset](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/wiring.go#L43>)

```go
func Reset()
```



<a name="Service"></a>
## func [Service](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/wiring.go#L82>)

```go
func Service(spec wiring.WiringSpec, serviceName, serviceType string, serviceArgs ...string) string
```

This adds a service to the application, using a definition that was provided in the workflow spec.

\`serviceType\` must refer to a named service that was defined in the workflow spec. If the service doesn't exist, then this will result in a build error.

\`serviceArgs\` can be zero or more other named nodes that are provided as arguments to the service.

This call creates several definitions within the wiring spec. In particular, \`serviceName\` is defined as a pointer to the actual service, and can thus be modified and

<a name="WorkflowSpec"></a>
## type [WorkflowSpec](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/workflowspec.go#L25-L27>)

Representation of a workflow spec.

This code makes heavy use of the Golang code parser defined in the Golang plugin. That code parser extracts structs, interfaces, and function definitions from a set of golang modules.

This code adds functionality that:

- Identifies valid service interfaces
- Matches structs to interfaces that they implement
- Finds constructors of structs

```go
type WorkflowSpec struct {
    Parsed *goparser.ParsedModuleSet
}
```

<a name="GetSpec"></a>
### func [GetSpec](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/wiring.go#L48>)

```go
func GetSpec() (*WorkflowSpec, error)
```

Static initialization of the workflow spec

<a name="NewWorkflowSpec"></a>
### func [NewWorkflowSpec](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/workflowspec.go#L39>)

```go
func NewWorkflowSpec(srcModuleDirs ...string) (*WorkflowSpec, error)
```

Parses the specified module directories and loads workflow specs from there.

This will return an error if \*any\* of the provided srcModuleDirs are not valid Go modules

<a name="WorkflowSpec.Get"></a>
### func \(\*WorkflowSpec\) [Get](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/workflowspec.go#L55>)

```go
func (spec *WorkflowSpec) Get(name string) (*WorkflowSpecService, error)
```

Looks up the named service in the workflow spec. When a wiring spec instantiates a workflow spec service, this method will ultimately get called.

Returns the service and a constructor

<a name="WorkflowSpecService"></a>
## type [WorkflowSpecService](<https://github.com/Blueprint-uServices/blueprint/blob/main/plugins/workflow/workflowspec.go#L29-L32>)



```go
type WorkflowSpecService struct {
    Iface       *goparser.ParsedInterface
    Constructor *goparser.ParsedFunc
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
