<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# gogen

```go
import "gitlab.mpi-sws.org/cld/blueprint/plugins/golang/gogen"
```

## Index

- [func ExecuteTemplate\(name string, body string, args any\) \(string, error\)](<#ExecuteTemplate>)
- [func ExecuteTemplateToFile\(name string, body string, args any, filename string\) error](<#ExecuteTemplateToFile>)
- [type GraphBuilderImpl](<#GraphBuilderImpl>)
  - [func NewGraphBuilder\(module golang.ModuleBuilder, fileName, packagePath, funcName string\) \(\*GraphBuilderImpl, error\)](<#NewGraphBuilder>)
  - [func \(code \*GraphBuilderImpl\) Build\(\) error](<#GraphBuilderImpl.Build>)
  - [func \(graph \*GraphBuilderImpl\) Declare\(name, buildFuncSrc string\) error](<#GraphBuilderImpl.Declare>)
  - [func \(graph \*GraphBuilderImpl\) DeclareConstructor\(name string, constructor \*gocode.Constructor, args \[\]blueprint.IRNode\) error](<#GraphBuilderImpl.DeclareConstructor>)
  - [func \(code \*GraphBuilderImpl\) ImplementsBuildContext\(\)](<#GraphBuilderImpl.ImplementsBuildContext>)
  - [func \(graph \*GraphBuilderImpl\) Import\(packageName string\) string](<#GraphBuilderImpl.Import>)
  - [func \(graph \*GraphBuilderImpl\) ImportType\(typeName gocode.TypeName\) string](<#GraphBuilderImpl.ImportType>)
  - [func \(graph \*GraphBuilderImpl\) Info\(\) golang.GraphInfo](<#GraphBuilderImpl.Info>)
  - [func \(code \*GraphBuilderImpl\) Module\(\) golang.ModuleBuilder](<#GraphBuilderImpl.Module>)
- [type Imports](<#Imports>)
  - [func NewImports\(packageName string\) \*Imports](<#NewImports>)
  - [func \(imports \*Imports\) AddPackage\(pkg string\) string](<#Imports.AddPackage>)
  - [func \(imports \*Imports\) AddPackages\(pkgs ...string\)](<#Imports.AddPackages>)
  - [func \(imports \*Imports\) AddType\(typeName gocode.TypeName\)](<#Imports.AddType>)
  - [func \(imports \*Imports\) NameOf\(typeName gocode.TypeName\) string](<#Imports.NameOf>)
  - [func \(imports \*Imports\) Qualify\(pkg string, name string\) string](<#Imports.Qualify>)
  - [func \(imports \*Imports\) String\(\) string](<#Imports.String>)
- [type ModuleBuilderImpl](<#ModuleBuilderImpl>)
  - [func NewModuleBuilder\(workspace \*WorkspaceBuilderImpl, moduleName string\) \(\*ModuleBuilderImpl, error\)](<#NewModuleBuilder>)
  - [func \(module \*ModuleBuilderImpl\) Build\(nodes \[\]blueprint.IRNode\) error](<#ModuleBuilderImpl.Build>)
  - [func \(module \*ModuleBuilderImpl\) CreatePackage\(packageName string\) \(golang.PackageInfo, error\)](<#ModuleBuilderImpl.CreatePackage>)
  - [func \(module \*ModuleBuilderImpl\) ImplementsBuildContext\(\)](<#ModuleBuilderImpl.ImplementsBuildContext>)
  - [func \(module \*ModuleBuilderImpl\) Info\(\) golang.ModuleInfo](<#ModuleBuilderImpl.Info>)
  - [func \(module \*ModuleBuilderImpl\) Workspace\(\) golang.WorkspaceBuilder](<#ModuleBuilderImpl.Workspace>)
- [type WorkspaceBuilderImpl](<#WorkspaceBuilderImpl>)
  - [func NewWorkspaceBuilder\(workspaceDir string\) \(\*WorkspaceBuilderImpl, error\)](<#NewWorkspaceBuilder>)
  - [func \(workspace \*WorkspaceBuilderImpl\) AddLocalModule\(shortName string, moduleSrcPath string\) error](<#WorkspaceBuilderImpl.AddLocalModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) AddLocalModuleRelative\(shortName string, relativeModuleSrcPath string\) error](<#WorkspaceBuilderImpl.AddLocalModuleRelative>)
  - [func \(workspace \*WorkspaceBuilderImpl\) CreateModule\(moduleName string, moduleVersion string\) \(string, error\)](<#WorkspaceBuilderImpl.CreateModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) Finish\(\) error](<#WorkspaceBuilderImpl.Finish>)
  - [func \(workspace \*WorkspaceBuilderImpl\) GetLocalModule\(modulePath string\) \(string, bool\)](<#WorkspaceBuilderImpl.GetLocalModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) ImplementsBuildContext\(\)](<#WorkspaceBuilderImpl.ImplementsBuildContext>)
  - [func \(workspace \*WorkspaceBuilderImpl\) Info\(\) golang.WorkspaceInfo](<#WorkspaceBuilderImpl.Info>)


<a name="ExecuteTemplate"></a>
## func ExecuteTemplate

```go
func ExecuteTemplate(name string, body string, args any) (string, error)
```



<a name="ExecuteTemplateToFile"></a>
## func ExecuteTemplateToFile

```go
func ExecuteTemplateToFile(name string, body string, args any, filename string) error
```



<a name="GraphBuilderImpl"></a>
## type GraphBuilderImpl

Implements the GraphBuilder interface defined in gogen/ir.go

GraphBuilder is useful for any golang namespace node, such as the goproc plugin, that wants to be able to instantiate Golang IR nodes.

The GraphBuilder accumulates code from child nodes and stubs for instantiating the code.

The GraphBuilder can then be used to generate a source file that constructs the graph.

The typical usage of a \`GraphBuilder\` is to:

1. Create a new \`GraphBuilder\` with the \`NewGraphBuilder\` method

2. Collect code definitions from child nodes by calling \`Instantiable.AddInstantiation\` on those nodes

3. Generate the final output by calling \`GraphBuilder.Finish\`

```go
type GraphBuilderImpl struct {
    blueprint.VisitTrackerImpl

    Package      golang.PackageInfo
    FileName     string            // The short name of the file
    FilePath     string            // The fully qualified path to the file
    FuncName     string            // The name of the function to generate
    Imports      *Imports          // Import declarations in the file; map of shortname to full package import name
    Declarations map[string]string // The DI declarations
    // contains filtered or unexported fields
}
```

<a name="NewGraphBuilder"></a>
### func NewGraphBuilder

```go
func NewGraphBuilder(module golang.ModuleBuilder, fileName, packagePath, funcName string) (*GraphBuilderImpl, error)
```

Create a new GraphBuilder

<a name="GraphBuilderImpl.Build"></a>
### func \(\*GraphBuilderImpl\) Build

```go
func (code *GraphBuilderImpl) Build() error
```

Generates the file within its module

<a name="GraphBuilderImpl.Declare"></a>
### func \(\*GraphBuilderImpl\) Declare

```go
func (graph *GraphBuilderImpl) Declare(name, buildFuncSrc string) error
```



<a name="GraphBuilderImpl.DeclareConstructor"></a>
### func \(\*GraphBuilderImpl\) DeclareConstructor

```go
func (graph *GraphBuilderImpl) DeclareConstructor(name string, constructor *gocode.Constructor, args []blueprint.IRNode) error
```



<a name="GraphBuilderImpl.ImplementsBuildContext"></a>
### func \(\*GraphBuilderImpl\) ImplementsBuildContext

```go
func (code *GraphBuilderImpl) ImplementsBuildContext()
```



<a name="GraphBuilderImpl.Import"></a>
### func \(\*GraphBuilderImpl\) Import

```go
func (graph *GraphBuilderImpl) Import(packageName string) string
```



<a name="GraphBuilderImpl.ImportType"></a>
### func \(\*GraphBuilderImpl\) ImportType

```go
func (graph *GraphBuilderImpl) ImportType(typeName gocode.TypeName) string
```



<a name="GraphBuilderImpl.Info"></a>
### func \(\*GraphBuilderImpl\) Info

```go
func (graph *GraphBuilderImpl) Info() golang.GraphInfo
```



<a name="GraphBuilderImpl.Module"></a>
### func \(\*GraphBuilderImpl\) Module

```go
func (code *GraphBuilderImpl) Module() golang.ModuleBuilder
```



<a name="Imports"></a>
## type Imports

A helper struct for managing imports in generated golang files.

Used by plugins like the GRPC plugin.

The string representation of the Imports struct is the import declaration.

The NameOf method provides the correctly qualified name for the specified userType

```go
type Imports struct {
    // contains filtered or unexported fields
}
```

<a name="NewImports"></a>
### func NewImports

```go
func NewImports(packageName string) *Imports
```

Creates a new ImportedPackages struct, treating the provided fully\-qualified packageName as the "current" package

<a name="Imports.AddPackage"></a>
### func \(\*Imports\) AddPackage

```go
func (imports *Imports) AddPackage(pkg string) string
```



<a name="Imports.AddPackages"></a>
### func \(\*Imports\) AddPackages

```go
func (imports *Imports) AddPackages(pkgs ...string)
```



<a name="Imports.AddType"></a>
### func \(\*Imports\) AddType

```go
func (imports *Imports) AddType(typeName gocode.TypeName)
```



<a name="Imports.NameOf"></a>
### func \(\*Imports\) NameOf

```go
func (imports *Imports) NameOf(typeName gocode.TypeName) string
```



<a name="Imports.Qualify"></a>
### func \(\*Imports\) Qualify

```go
func (imports *Imports) Qualify(pkg string, name string) string
```



<a name="Imports.String"></a>
### func \(\*Imports\) String

```go
func (imports *Imports) String() string
```



<a name="ModuleBuilderImpl"></a>
## type ModuleBuilderImpl

Implements the ModuleBuilder interface defined in golang/ir.go

The ModuleBuilder is used by plugins that generate golang source files, and need a module to put that code into.

```go
type ModuleBuilderImpl struct {
    blueprint.VisitTrackerImpl
    Name string // The FQ name of this module

    ModuleDir string // The directory containing this module
    // contains filtered or unexported fields
}
```

<a name="NewModuleBuilder"></a>
### func NewModuleBuilder

```go
func NewModuleBuilder(workspace *WorkspaceBuilderImpl, moduleName string) (*ModuleBuilderImpl, error)
```

This method is used by plugins if they want to generate their own Go module from scratch.

After dependencies and code have been added to the module, plugins must call Generate on the Generated Module to finish building it.

<a name="ModuleBuilderImpl.Build"></a>
### func \(\*ModuleBuilderImpl\) Build

```go
func (module *ModuleBuilderImpl) Build(nodes []blueprint.IRNode) error
```



<a name="ModuleBuilderImpl.CreatePackage"></a>
### func \(\*ModuleBuilderImpl\) CreatePackage

```go
func (module *ModuleBuilderImpl) CreatePackage(packageName string) (golang.PackageInfo, error)
```



<a name="ModuleBuilderImpl.ImplementsBuildContext"></a>
### func \(\*ModuleBuilderImpl\) ImplementsBuildContext

```go
func (module *ModuleBuilderImpl) ImplementsBuildContext()
```



<a name="ModuleBuilderImpl.Info"></a>
### func \(\*ModuleBuilderImpl\) Info

```go
func (module *ModuleBuilderImpl) Info() golang.ModuleInfo
```



<a name="ModuleBuilderImpl.Workspace"></a>
### func \(\*ModuleBuilderImpl\) Workspace

```go
func (module *ModuleBuilderImpl) Workspace() golang.WorkspaceBuilder
```



<a name="WorkspaceBuilderImpl"></a>
## type WorkspaceBuilderImpl

Implements the WorkspaceBuilder interface defined in golang/ir.go

The WorkspaceBuilder is used for accumulating local module directories into a golang workspace.

```go
type WorkspaceBuilderImpl struct {
    blueprint.VisitTrackerImpl
    WorkspaceDir     string            // The directory containing this workspace
    ModuleDirs       map[string]string // map from FQ module name to directory name within WorkspaceDir
    Modules          map[string]string // map from directory name to FQ module name within WorkspaceDir
    GeneratedModules map[string]string // map from directory name to FQ module name within WorkspaceDir
}
```

<a name="NewWorkspaceBuilder"></a>
### func NewWorkspaceBuilder

```go
func NewWorkspaceBuilder(workspaceDir string) (*WorkspaceBuilderImpl, error)
```

Creates a new WorkspaceBuilder at the specified output dir.

Will return an error if the workspacedir already exists

<a name="WorkspaceBuilderImpl.AddLocalModule"></a>
### func \(\*WorkspaceBuilderImpl\) AddLocalModule

```go
func (workspace *WorkspaceBuilderImpl) AddLocalModule(shortName string, moduleSrcPath string) error
```



<a name="WorkspaceBuilderImpl.AddLocalModuleRelative"></a>
### func \(\*WorkspaceBuilderImpl\) AddLocalModuleRelative

```go
func (workspace *WorkspaceBuilderImpl) AddLocalModuleRelative(shortName string, relativeModuleSrcPath string) error
```

This method is used by plugins if they want to copy a locally\-defined module into the generated workspace.

The specified relativeModuleSrcPath must point to a valid Go module with a go.mod file, relative to the calling file's location.

<a name="WorkspaceBuilderImpl.CreateModule"></a>
### func \(\*WorkspaceBuilderImpl\) CreateModule

```go
func (workspace *WorkspaceBuilderImpl) CreateModule(moduleName string, moduleVersion string) (string, error)
```



<a name="WorkspaceBuilderImpl.Finish"></a>
### func \(\*WorkspaceBuilderImpl\) Finish

```go
func (workspace *WorkspaceBuilderImpl) Finish() error
```

This method should be used by plugins after all modules in a workspace have been combined.

The method will do the following:

- creates a go.work file in the root of the workspace that points to all of the modules contained therein
- updates the go.mod files of all contained modules with 'replace' directives for any required modules that exist in the workspace

<a name="WorkspaceBuilderImpl.GetLocalModule"></a>
### func \(\*WorkspaceBuilderImpl\) GetLocalModule

```go
func (workspace *WorkspaceBuilderImpl) GetLocalModule(modulePath string) (string, bool)
```



<a name="WorkspaceBuilderImpl.ImplementsBuildContext"></a>
### func \(\*WorkspaceBuilderImpl\) ImplementsBuildContext

```go
func (workspace *WorkspaceBuilderImpl) ImplementsBuildContext()
```



<a name="WorkspaceBuilderImpl.Info"></a>
### func \(\*WorkspaceBuilderImpl\) Info

```go
func (workspace *WorkspaceBuilderImpl) Info() golang.WorkspaceInfo
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
