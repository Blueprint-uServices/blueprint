<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# gogen

```go
import "gitlab.mpi-sws.org/cld/blueprint/plugins/golang/gogen"
```

## Index

- [func ExecuteTemplate\(name string, body string, args any\) \(string, error\)](<#ExecuteTemplate>)
- [func ExecuteTemplateToFile\(name string, body string, args any, filename string\) error](<#ExecuteTemplateToFile>)
- [type Imports](<#Imports>)
  - [func NewImports\(packageName string\) \*Imports](<#NewImports>)
  - [func \(imports \*Imports\) AddPackage\(pkg string\) string](<#Imports.AddPackage>)
  - [func \(imports \*Imports\) AddPackages\(pkgs ...string\)](<#Imports.AddPackages>)
  - [func \(imports \*Imports\) AddType\(typeName gocode.TypeName\)](<#Imports.AddType>)
  - [func \(imports \*Imports\) NameOf\(typeName gocode.TypeName\) string](<#Imports.NameOf>)
  - [func \(imports \*Imports\) Qualify\(pkg string, name string\) string](<#Imports.Qualify>)
  - [func \(imports \*Imports\) String\(\) string](<#Imports.String>)
- [type ModuleBuilderImpl](<#ModuleBuilderImpl>)
  - [func NewModuleBuilder\(workspace \*WorkspaceBuilderImpl, moduleName string\) \(\*ModuleBuilderImpl, error\)](<#NewModuleBuilder>)
  - [func \(module \*ModuleBuilderImpl\) Build\(nodes \[\]ir.IRNode\) error](<#ModuleBuilderImpl.Build>)
  - [func \(module \*ModuleBuilderImpl\) CreatePackage\(packageName string\) \(golang.PackageInfo, error\)](<#ModuleBuilderImpl.CreatePackage>)
  - [func \(module \*ModuleBuilderImpl\) ImplementsBuildContext\(\)](<#ModuleBuilderImpl.ImplementsBuildContext>)
  - [func \(module \*ModuleBuilderImpl\) Info\(\) golang.ModuleInfo](<#ModuleBuilderImpl.Info>)
  - [func \(module \*ModuleBuilderImpl\) Workspace\(\) golang.WorkspaceBuilder](<#ModuleBuilderImpl.Workspace>)
- [type NamespaceBuilderImpl](<#NamespaceBuilderImpl>)
  - [func NewNamespaceBuilder\(module golang.ModuleBuilder, name, fileName, packagePath, funcName string\) \(\*NamespaceBuilderImpl, error\)](<#NewNamespaceBuilder>)
  - [func \(code \*NamespaceBuilderImpl\) Build\(\) error](<#NamespaceBuilderImpl.Build>)
  - [func \(n \*NamespaceBuilderImpl\) Declare\(name, buildFuncSrc string\) error](<#NamespaceBuilderImpl.Declare>)
  - [func \(namespace \*NamespaceBuilderImpl\) DeclareConstructor\(name string, constructor \*gocode.Constructor, args \[\]ir.IRNode\) error](<#NamespaceBuilderImpl.DeclareConstructor>)
  - [func \(code \*NamespaceBuilderImpl\) ImplementsBuildContext\(\)](<#NamespaceBuilderImpl.ImplementsBuildContext>)
  - [func \(n \*NamespaceBuilderImpl\) Import\(packageName string\) string](<#NamespaceBuilderImpl.Import>)
  - [func \(n \*NamespaceBuilderImpl\) ImportType\(typeName gocode.TypeName\) string](<#NamespaceBuilderImpl.ImportType>)
  - [func \(n \*NamespaceBuilderImpl\) Info\(\) golang.NamespaceInfo](<#NamespaceBuilderImpl.Info>)
  - [func \(n \*NamespaceBuilderImpl\) Instantiate\(name string\)](<#NamespaceBuilderImpl.Instantiate>)
  - [func \(n \*NamespaceBuilderImpl\) Module\(\) golang.ModuleBuilder](<#NamespaceBuilderImpl.Module>)
  - [func \(n \*NamespaceBuilderImpl\) Require\(name, description string\)](<#NamespaceBuilderImpl.Require>)
- [type WorkspaceBuilderImpl](<#WorkspaceBuilderImpl>)
  - [func NewWorkspaceBuilder\(workspaceDir string\) \(\*WorkspaceBuilderImpl, error\)](<#NewWorkspaceBuilder>)
  - [func \(workspace \*WorkspaceBuilderImpl\) AddLocalModule\(shortName string, moduleSrcPath string\) error](<#WorkspaceBuilderImpl.AddLocalModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) AddLocalModuleRelative\(shortName string, relativeModuleSrcPath string\) error](<#WorkspaceBuilderImpl.AddLocalModuleRelative>)
  - [func \(workspace \*WorkspaceBuilderImpl\) CreateModule\(moduleName string, moduleVersion string\) \(string, error\)](<#WorkspaceBuilderImpl.CreateModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) Finish\(\) error](<#WorkspaceBuilderImpl.Finish>)
  - [func \(workspace \*WorkspaceBuilderImpl\) GetLocalModule\(modulePath string\) \(string, bool\)](<#WorkspaceBuilderImpl.GetLocalModule>)
  - [func \(workspace \*WorkspaceBuilderImpl\) ImplementsBuildContext\(\)](<#WorkspaceBuilderImpl.ImplementsBuildContext>)
  - [func \(workspace \*WorkspaceBuilderImpl\) Info\(\) golang.WorkspaceInfo](<#WorkspaceBuilderImpl.Info>)


<a name="ExecuteTemplate"></a>
## func ExecuteTemplate

```go
func ExecuteTemplate(name string, body string, args any) (string, error)
```



<a name="ExecuteTemplateToFile"></a>
## func ExecuteTemplateToFile

```go
func ExecuteTemplateToFile(name string, body string, args any, filename string) error
```



<a name="Imports"></a>
## type Imports

A helper struct for managing imports in generated golang files.

Used by plugins like the GRPC plugin.

The string representation of the Imports struct is the import declaration.

The NameOf method provides the correctly qualified name for the specified userType

```go
type Imports struct {
    // contains filtered or unexported fields
}
```

<a name="NewImports"></a>
### func NewImports

```go
func NewImports(packageName string) *Imports
```

Creates a new ImportedPackages struct, treating the provided fully\-qualified packageName as the "current" package

<a name="Imports.AddPackage"></a>
### func \(\*Imports\) AddPackage

```go
func (imports *Imports) AddPackage(pkg string) string
```



<a name="Imports.AddPackages"></a>
### func \(\*Imports\) AddPackages

```go
func (imports *Imports) AddPackages(pkgs ...string)
```



<a name="Imports.AddType"></a>
### func \(\*Imports\) AddType

```go
func (imports *Imports) AddType(typeName gocode.TypeName)
```



<a name="Imports.NameOf"></a>
### func \(\*Imports\) NameOf

```go
func (imports *Imports) NameOf(typeName gocode.TypeName) string
```



<a name="Imports.Qualify"></a>
### func \(\*Imports\) Qualify

```go
func (imports *Imports) Qualify(pkg string, name string) string
```



<a name="Imports.String"></a>
### func \(\*Imports\) String

```go
func (imports *Imports) String() string
```



<a name="ModuleBuilderImpl"></a>
## type ModuleBuilderImpl

Implements the ModuleBuilder interface defined in golang/ir.go

The ModuleBuilder is used by plugins that generate golang source files, and need a module to put that code into.

```go
type ModuleBuilderImpl struct {
    ir.VisitTrackerImpl
    Name string // The FQ name of this module

    ModuleDir string // The directory containing this module
    // contains filtered or unexported fields
}
```

<a name="NewModuleBuilder"></a>
### func NewModuleBuilder

```go
func NewModuleBuilder(workspace *WorkspaceBuilderImpl, moduleName string) (*ModuleBuilderImpl, error)
```

This method is used by plugins if they want to generate their own Go module from scratch.

After dependencies and code have been added to the module, plugins must call Generate on the Generated Module to finish building it.

<a name="ModuleBuilderImpl.Build"></a>
### func \(\*ModuleBuilderImpl\) Build

```go
func (module *ModuleBuilderImpl) Build(nodes []ir.IRNode) error
```



<a name="ModuleBuilderImpl.CreatePackage"></a>
### func \(\*ModuleBuilderImpl\) CreatePackage

```go
func (module *ModuleBuilderImpl) CreatePackage(packageName string) (golang.PackageInfo, error)
```



<a name="ModuleBuilderImpl.ImplementsBuildContext"></a>
### func \(\*ModuleBuilderImpl\) ImplementsBuildContext

```go
func (module *ModuleBuilderImpl) ImplementsBuildContext()
```



<a name="ModuleBuilderImpl.Info"></a>
### func \(\*ModuleBuilderImpl\) Info

```go
func (module *ModuleBuilderImpl) Info() golang.ModuleInfo
```



<a name="ModuleBuilderImpl.Workspace"></a>
### func \(\*ModuleBuilderImpl\) Workspace

```go
func (module *ModuleBuilderImpl) Workspace() golang.WorkspaceBuilder
```



<a name="NamespaceBuilderImpl"></a>
## type NamespaceBuilderImpl

Implements the \[ir.NamespaceBuilder\] interface defined in gogen/ir.go

\[ir.NamespaceBuilder\] is useful for any golang namespace node, such as the goproc plugin, that wants to be able to instantiate Golang IR nodes.

The \[ir.NamespaceBuilder\] accumulates code from child nodes and stubs for instantiating the code.

The \[ir.NamespaceBuilder\] can then be used to generate a source file that constructs the namespace.

The typical usage of a \[ir.NamespaceBuilder\] is to:

1. Create a new \[ir.NamespaceBuilder\] with the [NewNamespaceBuilder](<#NewNamespaceBuilder>) method

2. Collect code definitions from child nodes by calling \`Instantiable.AddInstantiation\` on those nodes

3. Generate the final output by calling \`NamespaceBuilder.Finish\`

```go
type NamespaceBuilderImpl struct {
    ir.VisitTrackerImpl

    Package        golang.PackageInfo
    Name           string            // IR node name
    FileName       string            // The short name of the file
    FilePath       string            // The fully qualified path to the file
    FuncName       string            // The name of the function to generate
    Imports        *Imports          // Import declarations in the file; map of shortname to full package import name
    Declarations   map[string]string // The DI declarations
    Requires       map[string]string
    Instantiations map[string]struct{}
    // contains filtered or unexported fields
}
```

<a name="NewNamespaceBuilder"></a>
### func NewNamespaceBuilder

```go
func NewNamespaceBuilder(module golang.ModuleBuilder, name, fileName, packagePath, funcName string) (*NamespaceBuilderImpl, error)
```

Create a new NamespaceBuilder

<a name="NamespaceBuilderImpl.Build"></a>
### func \(\*NamespaceBuilderImpl\) Build

```go
func (code *NamespaceBuilderImpl) Build() error
```

Generates the file within its module

<a name="NamespaceBuilderImpl.Declare"></a>
### func \(\*NamespaceBuilderImpl\) Declare

```go
func (n *NamespaceBuilderImpl) Declare(name, buildFuncSrc string) error
```



<a name="NamespaceBuilderImpl.DeclareConstructor"></a>
### func \(\*NamespaceBuilderImpl\) DeclareConstructor

```go
func (namespace *NamespaceBuilderImpl) DeclareConstructor(name string, constructor *gocode.Constructor, args []ir.IRNode) error
```



<a name="NamespaceBuilderImpl.ImplementsBuildContext"></a>
### func \(\*NamespaceBuilderImpl\) ImplementsBuildContext

```go
func (code *NamespaceBuilderImpl) ImplementsBuildContext()
```



<a name="NamespaceBuilderImpl.Import"></a>
### func \(\*NamespaceBuilderImpl\) Import

```go
func (n *NamespaceBuilderImpl) Import(packageName string) string
```



<a name="NamespaceBuilderImpl.ImportType"></a>
### func \(\*NamespaceBuilderImpl\) ImportType

```go
func (n *NamespaceBuilderImpl) ImportType(typeName gocode.TypeName) string
```



<a name="NamespaceBuilderImpl.Info"></a>
### func \(\*NamespaceBuilderImpl\) Info

```go
func (n *NamespaceBuilderImpl) Info() golang.NamespaceInfo
```



<a name="NamespaceBuilderImpl.Instantiate"></a>
### func \(\*NamespaceBuilderImpl\) Instantiate

```go
func (n *NamespaceBuilderImpl) Instantiate(name string)
```



<a name="NamespaceBuilderImpl.Module"></a>
### func \(\*NamespaceBuilderImpl\) Module

```go
func (n *NamespaceBuilderImpl) Module() golang.ModuleBuilder
```



<a name="NamespaceBuilderImpl.Require"></a>
### func \(\*NamespaceBuilderImpl\) Require

```go
func (n *NamespaceBuilderImpl) Require(name, description string)
```



<a name="WorkspaceBuilderImpl"></a>
## type WorkspaceBuilderImpl

Implements the WorkspaceBuilder interface defined in golang/ir.go

The WorkspaceBuilder is used for accumulating local module directories into a golang workspace.

```go
type WorkspaceBuilderImpl struct {
    ir.VisitTrackerImpl
    WorkspaceDir     string            // The directory containing this workspace
    ModuleDirs       map[string]string // map from FQ module name to directory name within WorkspaceDir
    Modules          map[string]string // map from directory name to FQ module name within WorkspaceDir
    GeneratedModules map[string]string // map from directory name to FQ module name within WorkspaceDir
}
```

<a name="NewWorkspaceBuilder"></a>
### func NewWorkspaceBuilder

```go
func NewWorkspaceBuilder(workspaceDir string) (*WorkspaceBuilderImpl, error)
```

Creates a new WorkspaceBuilder at the specified output dir.

Will return an error if the workspacedir already exists

<a name="WorkspaceBuilderImpl.AddLocalModule"></a>
### func \(\*WorkspaceBuilderImpl\) AddLocalModule

```go
func (workspace *WorkspaceBuilderImpl) AddLocalModule(shortName string, moduleSrcPath string) error
```



<a name="WorkspaceBuilderImpl.AddLocalModuleRelative"></a>
### func \(\*WorkspaceBuilderImpl\) AddLocalModuleRelative

```go
func (workspace *WorkspaceBuilderImpl) AddLocalModuleRelative(shortName string, relativeModuleSrcPath string) error
```

This method is used by plugins if they want to copy a locally\-defined module into the generated workspace.

The specified relativeModuleSrcPath must point to a valid Go module with a go.mod file, relative to the calling file's location.

<a name="WorkspaceBuilderImpl.CreateModule"></a>
### func \(\*WorkspaceBuilderImpl\) CreateModule

```go
func (workspace *WorkspaceBuilderImpl) CreateModule(moduleName string, moduleVersion string) (string, error)
```



<a name="WorkspaceBuilderImpl.Finish"></a>
### func \(\*WorkspaceBuilderImpl\) Finish

```go
func (workspace *WorkspaceBuilderImpl) Finish() error
```

This method should be used by plugins after all modules in a workspace have been combined.

The method will do the following:

- creates a go.work file in the root of the workspace that points to all of the modules contained therein
- updates the go.mod files of all contained modules with 'replace' directives for any required modules that exist in the workspace

<a name="WorkspaceBuilderImpl.GetLocalModule"></a>
### func \(\*WorkspaceBuilderImpl\) GetLocalModule

```go
func (workspace *WorkspaceBuilderImpl) GetLocalModule(modulePath string) (string, bool)
```



<a name="WorkspaceBuilderImpl.ImplementsBuildContext"></a>
### func \(\*WorkspaceBuilderImpl\) ImplementsBuildContext

```go
func (workspace *WorkspaceBuilderImpl) ImplementsBuildContext()
```



<a name="WorkspaceBuilderImpl.Info"></a>
### func \(\*WorkspaceBuilderImpl\) Info

```go
func (workspace *WorkspaceBuilderImpl) Info() golang.WorkspaceInfo
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
