<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# goparser

```go
import "github.com/Blueprint-uServices/blueprint/plugins/golang/goparser"
```

## Index

- [func ExprStr\(e ast.Expr\) string](<#ExprStr>)
- [type ParsedField](<#ParsedField>)
  - [func \(f \*ParsedField\) Parse\(\) error](<#ParsedField.Parse>)
  - [func \(f \*ParsedField\) String\(\) string](<#ParsedField.String>)
- [type ParsedFile](<#ParsedFile>)
  - [func \(f \*ParsedFile\) LoadFuncs\(\) error](<#ParsedFile.LoadFuncs>)
  - [func \(f \*ParsedFile\) LoadImports\(\) error](<#ParsedFile.LoadImports>)
  - [func \(f \*ParsedFile\) LoadStructsAndInterfaces\(\) error](<#ParsedFile.LoadStructsAndInterfaces>)
  - [func \(f \*ParsedFile\) LoadVars\(\) error](<#ParsedFile.LoadVars>)
  - [func \(f \*ParsedFile\) ResolveIdent\(name string, typeParams ...string\) gocode.TypeName](<#ParsedFile.ResolveIdent>)
  - [func \(f \*ParsedFile\) ResolveSelector\(packageShortName string, name string\) gocode.TypeName](<#ParsedFile.ResolveSelector>)
  - [func \(f \*ParsedFile\) ResolveType\(expr ast.Expr, typeParams ...string\) gocode.TypeName](<#ParsedFile.ResolveType>)
  - [func \(f \*ParsedFile\) String\(\) string](<#ParsedFile.String>)
- [type ParsedFunc](<#ParsedFunc>)
  - [func \(f \*ParsedFunc\) AsConstructor\(\) \*gocode.Constructor](<#ParsedFunc.AsConstructor>)
  - [func \(f \*ParsedFunc\) Parse\(\) error](<#ParsedFunc.Parse>)
  - [func \(f \*ParsedFunc\) String\(\) string](<#ParsedFunc.String>)
- [type ParsedImport](<#ParsedImport>)
- [type ParsedInterface](<#ParsedInterface>)
  - [func \(iface \*ParsedInterface\) ServiceInterface\(ctx ir.BuildContext\) \*gocode.ServiceInterface](<#ParsedInterface.ServiceInterface>)
  - [func \(i \*ParsedInterface\) String\(\) string](<#ParsedInterface.String>)
  - [func \(iface \*ParsedInterface\) Type\(\) \*gocode.UserType](<#ParsedInterface.Type>)
- [type ParsedModule](<#ParsedModule>)
  - [func \(mod \*ParsedModule\) Load\(\) error](<#ParsedModule.Load>)
  - [func \(mod \*ParsedModule\) String\(\) string](<#ParsedModule.String>)
- [type ParsedModuleSet](<#ParsedModuleSet>)
  - [func ParseModules\(srcDirs ...string\) \(\*ParsedModuleSet, error\)](<#ParseModules>)
  - [func ParseWorkspace\(workspaceDir string\) \(\*ParsedModuleSet, error\)](<#ParseWorkspace>)
  - [func \(set \*ParsedModuleSet\) AddModule\(srcDir string\) \(\*ParsedModule, error\)](<#ParsedModuleSet.AddModule>)
  - [func \(set \*ParsedModuleSet\) GetPackage\(name string\) \*ParsedPackage](<#ParsedModuleSet.GetPackage>)
  - [func \(set \*ParsedModuleSet\) String\(\) string](<#ParsedModuleSet.String>)
- [type ParsedPackage](<#ParsedPackage>)
  - [func \(pkg \*ParsedPackage\) Load\(\) error](<#ParsedPackage.Load>)
  - [func \(pkg \*ParsedPackage\) Parse\(\) error](<#ParsedPackage.Parse>)
  - [func \(pkg \*ParsedPackage\) String\(\) string](<#ParsedPackage.String>)
- [type ParsedStruct](<#ParsedStruct>)
  - [func \(f \*ParsedStruct\) String\(\) string](<#ParsedStruct.String>)
  - [func \(struc \*ParsedStruct\) Type\(\) \*gocode.UserType](<#ParsedStruct.Type>)
- [type ParsedVar](<#ParsedVar>)


<a name="ExprStr"></a>
## func [ExprStr](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/astutil.go#L13>)

```go
func ExprStr(e ast.Expr) string
```

Returns a string representation of an expr and its internals Useful for debugging golang code parsers.

<a name="ParsedField"></a>
## type [ParsedField](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L119-L124>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedField struct {
    gocode.Variable
    Struct   *ParsedStruct
    Position int
    Ast      *ast.Field
}
```

<a name="ParsedField.Parse"></a>
### func \(\*ParsedField\) [Parse](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L364>)

```go
func (f *ParsedField) Parse() error
```



<a name="ParsedField.String"></a>
### func \(\*ParsedField\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L866>)

```go
func (f *ParsedField) String() string
```



<a name="ParsedFile"></a>
## type [ParsedFile](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L72-L80>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedFile struct {
    Package          *ParsedPackage
    Name             string                   // Filename
    Path             string                   // Fully qualified path to the file
    PathInModule     string                   // Path within the module to the file
    AnonymousImports []*ParsedImport          // Import declarations that were imported with .
    NamedImports     map[string]*ParsedImport // Import declarations - map from shortname to fully qualified package import name
    Ast              *ast.File                // The AST of the file
}
```

<a name="ParsedFile.LoadFuncs"></a>
### func \(\*ParsedFile\) [LoadFuncs](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L677>)

```go
func (f *ParsedFile) LoadFuncs() error
```

Assumes that all structs and interfaces have been loaded for the package containing the file.

Loads the names of all funcs. If the func has a receiver type, then it is saved as a method on the appropriate struct; if it does not have a receiver type, then it is saved as a package func.

This does not parse the arguments or returns of the func

<a name="ParsedFile.LoadImports"></a>
### func \(\*ParsedFile\) [LoadImports](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L508>)

```go
func (f *ParsedFile) LoadImports() error
```



<a name="ParsedFile.LoadStructsAndInterfaces"></a>
### func \(\*ParsedFile\) [LoadStructsAndInterfaces](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L545>)

```go
func (f *ParsedFile) LoadStructsAndInterfaces() error
```

Looks for:

- structs defined in the file
- interfaces defined in the file
- other user types defined in the file

Does not:

- look for function declarations

<a name="ParsedFile.LoadVars"></a>
### func \(\*ParsedFile\) [LoadVars](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L644>)

```go
func (f *ParsedFile) LoadVars() error
```

Looks for:

- vars declared

<a name="ParsedFile.ResolveIdent"></a>
### func \(\*ParsedFile\) [ResolveIdent](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L422>)

```go
func (f *ParsedFile) ResolveIdent(name string, typeParams ...string) gocode.TypeName
```

An ident can be:

- a basic type, like int64, float32 etc.
- any
- a type declared locally within the file or package
- a type imported with an \`import . "package"\` decl
- a generic type from a struct or func's type params

<a name="ParsedFile.ResolveSelector"></a>
### func \(\*ParsedFile\) [ResolveSelector](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L450>)

```go
func (f *ParsedFile) ResolveSelector(packageShortName string, name string) gocode.TypeName
```



<a name="ParsedFile.ResolveType"></a>
### func \(\*ParsedFile\) [ResolveType](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L462>)

```go
func (f *ParsedFile) ResolveType(expr ast.Expr, typeParams ...string) gocode.TypeName
```

If the expr is in the context of a generic struct or func, typeParams provides the additional named type params

<a name="ParsedFile.String"></a>
### func \(\*ParsedFile\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L812>)

```go
func (f *ParsedFile) String() string
```



<a name="ParsedFunc"></a>
## type [ParsedFunc](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L101-L105>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedFunc struct {
    gocode.Func
    File *ParsedFile
    Ast  *ast.FuncType
}
```

<a name="ParsedFunc.AsConstructor"></a>
### func \(\*ParsedFunc\) [AsConstructor](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L771>)

```go
func (f *ParsedFunc) AsConstructor() *gocode.Constructor
```



<a name="ParsedFunc.Parse"></a>
### func \(\*ParsedFunc\) [Parse](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L372>)

```go
func (f *ParsedFunc) Parse() error
```



<a name="ParsedFunc.String"></a>
### func \(\*ParsedFunc\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L847>)

```go
func (f *ParsedFunc) String() string
```



<a name="ParsedImport"></a>
## type [ParsedImport](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L114-L117>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedImport struct {
    File    *ParsedFile
    Package string
}
```

<a name="ParsedInterface"></a>
## type [ParsedInterface](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L94-L99>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedInterface struct {
    File    *ParsedFile
    Ast     *ast.InterfaceType
    Name    string
    Methods map[string]*ParsedFunc
}
```

<a name="ParsedInterface.ServiceInterface"></a>
### func \(\*ParsedInterface\) [ServiceInterface](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L755>)

```go
func (iface *ParsedInterface) ServiceInterface(ctx ir.BuildContext) *gocode.ServiceInterface
```



<a name="ParsedInterface.String"></a>
### func \(\*ParsedInterface\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L837>)

```go
func (i *ParsedInterface) String() string
```



<a name="ParsedInterface.Type"></a>
### func \(\*ParsedInterface\) [Type](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L741>)

```go
func (iface *ParsedInterface) Type() *gocode.UserType
```



<a name="ParsedModule"></a>
## type [ParsedModule](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L48-L55>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedModule struct {
    ModuleSet *ParsedModuleSet
    Name      string                    // Fully qualified name of the module
    Version   string                    // Version of the module
    SrcDir    string                    // Fully qualified location of the module on the filesystem
    Modfile   *modfile.File             // The modfile File struct is sufficiently simple that we just use it directly
    Packages  map[string]*ParsedPackage // Map from fully qualified package name to ParsedPackage
}
```

<a name="ParsedModule.Load"></a>
### func \(\*ParsedModule\) [Load](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L217>)

```go
func (mod *ParsedModule) Load() error
```



<a name="ParsedModule.String"></a>
### func \(\*ParsedModule\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L786>)

```go
func (mod *ParsedModule) String() string
```



<a name="ParsedModuleSet"></a>
## type [ParsedModuleSet](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L33-L35>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedModuleSet struct {
    Modules map[string]*ParsedModule // Map from FQ module name to module object
}
```

<a name="ParseModules"></a>
### func [ParseModules](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L158>)

```go
func ParseModules(srcDirs ...string) (*ParsedModuleSet, error)
```

Parse the specified module directories

<a name="ParseWorkspace"></a>
### func [ParseWorkspace](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L139>)

```go
func ParseWorkspace(workspaceDir string) (*ParsedModuleSet, error)
```

Parse all modules in the specified directory

<a name="ParsedModuleSet.AddModule"></a>
### func \(\*ParsedModuleSet\) [AddModule](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L188>)

```go
func (set *ParsedModuleSet) AddModule(srcDir string) (*ParsedModule, error)
```



<a name="ParsedModuleSet.GetPackage"></a>
### func \(\*ParsedModuleSet\) [GetPackage](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L127>)

```go
func (set *ParsedModuleSet) GetPackage(name string) *ParsedPackage
```



<a name="ParsedModuleSet.String"></a>
### func \(\*ParsedModuleSet\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L778>)

```go
func (set *ParsedModuleSet) String() string
```



<a name="ParsedPackage"></a>
## type [ParsedPackage](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L57-L70>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedPackage struct {
    Module        *ParsedModule
    Name          string                      // Fully qualified name of the package including module name
    ShortName     string                      // Shortname of the package (ie, the name used in an import statement)
    PackageDir    string                      // Subdirectory within the module containing the package
    SrcDir        string                      // Fully qualified location of the package on the filesystem
    Files         map[string]*ParsedFile      // Map from filename to ParsedFile
    Ast           *ast.Package                // The AST of the package
    DeclaredTypes map[string]gocode.UserType  // Types declared within this package
    Structs       map[string]*ParsedStruct    // Structs parsed from this package
    Interfaces    map[string]*ParsedInterface // Interfaces parsed from this package
    Funcs         map[string]*ParsedFunc      // Functions parsed from this package (does not include funcs with receiver types)
    Vars          map[string]*ParsedVar       // Vars declared in this package; we save their AST but don't process them
}
```

<a name="ParsedPackage.Load"></a>
### func \(\*ParsedPackage\) [Load](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L276>)

```go
func (pkg *ParsedPackage) Load() error
```



<a name="ParsedPackage.Parse"></a>
### func \(\*ParsedPackage\) [Parse](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L330>)

```go
func (pkg *ParsedPackage) Parse() error
```



<a name="ParsedPackage.String"></a>
### func \(\*ParsedPackage\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L798>)

```go
func (pkg *ParsedPackage) String() string
```



<a name="ParsedStruct"></a>
## type [ParsedStruct](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L82-L92>)

A set of modules on the local filesystem that contain workflow spec interfaces and implementations. It is allowed for a workflow spec implementation in one package to use the interface defined in another package. However, currently, it is not possible to use workflow spec nodes whose interface or implementation comes entirely from an external module \(ie. a module that exists only as a 'require' directive of a go.mod\)

```go
type ParsedStruct struct {
    File            *ParsedFile
    Ast             *ast.StructType
    Name            string
    Methods         map[string]*ParsedFunc  // Methods declared directly on this struct, does not include promoted methods (not implemented yet)
    FieldsList      []*ParsedField          // All fields in the order that they are declared
    Fields          map[string]*ParsedField // Named fields declared in this struct only, does not include promoted fields (not implemented yet)
    PromotedField   *ParsedField            // If there is a promoted field, stored here
    AnonymousFields []*ParsedField          // Subsequent anonymous fields
    TypeParams      []string                // Names of generic type parameters
}
```

<a name="ParsedStruct.String"></a>
### func \(\*ParsedStruct\) [String](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L827>)

```go
func (f *ParsedStruct) String() string
```



<a name="ParsedStruct.Type"></a>
### func \(\*ParsedStruct\) [Type](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L748>)

```go
func (struc *ParsedStruct) Type() *gocode.UserType
```



<a name="ParsedVar"></a>
## type [ParsedVar](<https://gitlab.mpi-sws.org/cld/blueprint2/blueprint/blob/main/plugins/golang/goparser/parser.go#L108-L112>)

Currently we save var statements but don't do anything with them

```go
type ParsedVar struct {
    File *ParsedFile
    Name string
    Ast  *ast.ValueSpec
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
