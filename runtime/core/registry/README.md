<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# registry

```go
import "github.com/blueprint-uservices/blueprint/runtime/core/registry"
```

Package registry provides a struct for registering different service constructors for use at runtime.

This package is primarily used by plugins for testing and workload generators that don't know at development time the service instance to be used.

## Index

- [type ServiceRegistry](<#ServiceRegistry>)
  - [func NewServiceRegistry\[T any\]\(name string\) \*ServiceRegistry\[T\]](<#NewServiceRegistry>)
  - [func \(r \*ServiceRegistry\[T\]\) Get\(ctx context.Context\) \(T, error\)](<#ServiceRegistry[T].Get>)
  - [func \(r \*ServiceRegistry\[T\]\) Register\(name string, build func\(ctx context.Context\) \(T, error\)\)](<#ServiceRegistry[T].Register>)
  - [func \(r \*ServiceRegistry\[T\]\) SetDefault\(name string\)](<#ServiceRegistry[T].SetDefault>)


<a name="ServiceRegistry"></a>
## type [ServiceRegistry](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/core/registry/registry.go#L17-L24>)

Used for registering constructors for different service clients

```go
type ServiceRegistry[T any] struct {
    // contains filtered or unexported fields
}
```

<a name="NewServiceRegistry"></a>
### func [NewServiceRegistry](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/core/registry/registry.go#L26>)

```go
func NewServiceRegistry[T any](name string) *ServiceRegistry[T]
```



<a name="ServiceRegistry[T].Get"></a>
### func \(\*ServiceRegistry\[T\]\) [Get](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/core/registry/registry.go#L49>)

```go
func (r *ServiceRegistry[T]) Get(ctx context.Context) (T, error)
```

Returns the service instance or client. If this is the first call to Get, then the client will be built. The client and any build error is cached, and will be returned by any subsequent calls to Get

<a name="ServiceRegistry[T].Register"></a>
### func \(\*ServiceRegistry\[T\]\) [Register](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/core/registry/registry.go#L38>)

```go
func (r *ServiceRegistry[T]) Register(name string, build func(ctx context.Context) (T, error))
```



<a name="ServiceRegistry[T].SetDefault"></a>
### func \(\*ServiceRegistry\[T\]\) [SetDefault](<https://github.com/blueprint-uservices/blueprint/blob/main/runtime/core/registry/registry.go#L34>)

```go
func (r *ServiceRegistry[T]) SetDefault(name string)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
