<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# backend

```go
import "gitlab.mpi-sws.org/cld/blueprint/runtime/core/backend"
```

## Index

- [func CopyResult\(src any, dst any\) error](<#CopyResult>)
- [func GetPointerValue\(val any\) \(any, error\)](<#GetPointerValue>)
- [func GetSpanContext\(encoded\_string string\) \(trace.SpanContextConfig, error\)](<#GetSpanContext>)
- [func SetZero\(dst any\) error](<#SetZero>)
- [type Cache](<#Cache>)
- [type NoSQLCollection](<#NoSQLCollection>)
- [type NoSQLCursor](<#NoSQLCursor>)
- [type NoSQLDatabase](<#NoSQLDatabase>)
- [type Tracer](<#Tracer>)
- [type XTracer](<#XTracer>)


<a name="CopyResult"></a>
## func CopyResult

```go
func CopyResult(src any, dst any) error
```

Lots of APIs want to copy results into interfaces. This is a helper method to do so.

src can be anything; dst must be a pointer to the same type as src

<a name="GetPointerValue"></a>
## func GetPointerValue

```go
func GetPointerValue(val any) (any, error)
```



<a name="GetSpanContext"></a>
## func GetSpanContext

```go
func GetSpanContext(encoded_string string) (trace.SpanContextConfig, error)
```

Utility function to convert an encoded string into a Span Context

<a name="SetZero"></a>
## func SetZero

```go
func SetZero(dst any) error
```

Sets the zero value of a pointer

<a name="Cache"></a>
## type Cache



```go
type Cache interface {
    Put(ctx context.Context, key string, value interface{}) error
    // val is the pointer to which the value will be stored
    Get(ctx context.Context, key string, val interface{}) error
    Mset(ctx context.Context, keys []string, values []interface{}) error
    // values is the array of pointers to which the value will be stored
    Mget(ctx context.Context, keys []string, values []interface{}) error
    Delete(ctx context.Context, key string) error
    Incr(ctx context.Context, key string) (int64, error)
}
```

<a name="NoSQLCollection"></a>
## type NoSQLCollection



```go
type NoSQLCollection interface {
    // Deletes the first document that matches filter
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    DeleteOne(ctx context.Context, filter bson.D) error

    // Deletes all documents that match filter
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    DeleteMany(ctx context.Context, filter bson.D) error

    // Inserts the document into the collection.
    InsertOne(ctx context.Context, document interface{}) error

    // Inserts all provided documents into the collection
    InsertMany(ctx context.Context, documents []interface{}) error

    // Finds a document that matches filter.
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // Projections are optional and behave with mongodb semantics.
    FindOne(ctx context.Context, filter bson.D, projection ...bson.D) (NoSQLCursor, error)

    // Finds all documents that match the filter.
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // Projections are optional and behave with mongodb semantics.
    FindMany(ctx context.Context, filter bson.D, projection ...bson.D) (NoSQLCursor, error) // Result is not a slice -> it is an object we can use to retrieve documents using res.All().

    // Applies the provided update to the first document that matches filter
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // We use the same update operators as mongodb
    // https://www.mongodb.com/docs/manual/reference/method/db.collection.update/
    //
    // Returns the number of updated documents (0 or 1)
    UpdateOne(ctx context.Context, filter bson.D, update bson.D) (int, error)

    // Applies the provided update to all documents that match the filter
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // We use the same update operators as mongodb
    // https://www.mongodb.com/docs/manual/reference/method/db.collection.update/
    //
    // Returns the number of updated documents (>= 0)
    UpdateMany(ctx context.Context, filter bson.D, update bson.D) (int, error)

    // Attempts to match a document in the collection with "_id" = id.
    // If a match is found, replaces the existing document with the provided document.
    // If a match is not found, document is inserted into the collection.
    // Returns true if an existing document was updated; false otherwise
    //
    // This method requires that document has an "_id" field in its BSON representation.
    // If document is a golang struct, the standard way to do this is to tag a field as follows:
    //     ID   primitive.ObjectID `bson:"_id"`
    UpsertID(ctx context.Context, id primitive.ObjectID, document interface{}) (bool, error)

    // Replaces the first document that matches filter with the replacement document.
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // Returns the number of replaced documents (0 or 1)
    ReplaceOne(ctx context.Context, filter bson.D, replacement interface{}) (int, error)

    // Replaces all documents that match filter with the replacement documents.
    //
    // We use the same filter semantics as mongodb
    // https://www.mongodb.com/docs/manual/tutorial/query-documents/
    //
    // Returns the number of replaced documents.
    ReplaceMany(ctx context.Context, filter bson.D, replacements ...interface{}) (int, error)
}
```

<a name="NoSQLCursor"></a>
## type NoSQLCursor



```go
type NoSQLCursor interface {
    One(ctx context.Context, obj interface{}) error
    All(ctx context.Context, obj interface{}) error //similar logic to Decode, but for multiple documents
}
```

<a name="NoSQLDatabase"></a>
## type NoSQLDatabase



```go
type NoSQLDatabase interface {
    /*
    	A NoSQLDatabse implementation might distinguish between databases and collections,
    	or might not have those concepts.
    */
    GetCollection(ctx context.Context, db_name string, collection_name string) (NoSQLCollection, error)
}
```

<a name="Tracer"></a>
## type Tracer



```go
type Tracer interface {
    GetTracerProvider(ctx context.Context) (trace.TracerProvider, error)
}
```

<a name="XTracer"></a>
## type XTracer



```go
type XTracer interface {
    Log(ctx context.Context, msg string) (context.Context, error)
    LogWithTags(ctx context.Context, msg string, tags ...string) (context.Context, error)
    StartTask(ctx context.Context, tags ...string) (context.Context, error)
    StopTask(ctx context.Context) (context.Context, error)
    Merge(ctx context.Context, other tracingplane.BaggageContext) (context.Context, error)
    Set(ctx context.Context, baggage tracingplane.BaggageContext) (context.Context, error)
    Get(ctx context.Context) (tracingplane.BaggageContext, error)
    IsTracing(ctx context.Context) (bool, error)
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
